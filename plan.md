# [설계서] 데이터 전처리 파이프라인 의사코드 평가 시스템

본 설계서는 사용자가 입력한 자연어 의사코드를 분석하여 **데이터 누수(Data Leakage)** 방지 능력을 평가하고, 공학적 사고력을 길러주는 교육 시스템의 핵심 로직을 담고 있습니다.

---

## 1. 5차원 평가 루브릭 및 지표 정의
[cite_start]전체 과정은 총 100점 만점으로 구성되며, 각 지표는 LLM의 정성적 분석과 Rule 기반의 기계적 매칭을 통해 산출됩니다[cite: 3, 89].

| 지표명 | [cite_start]평가 내용 및 기준 [cite: 120-124] | [cite_start]배점 [cite: 4, 36, 87] |
| :--- | :--- | :--- |
| **설계력 (Design)** | 전처리 순서 및 흐름의 논리적 개연성 검증 | 25점 |
| **정합성 (Consistency)** | 전체 과정에서 '누수 방지 원칙'이 일관되게 유지되었는지 검토 | 20점 |
| **구현력 (Implementation)** | 의사코드가 실제 파이썬 로직으로 파싱/변환 가능한지 판정 | 10점 |
| **예외처리 (Edge Case)** | 데이터 드리프트 등 실무 확장 상황 대응력 검증 | 15점 |
| **추상화 (Abstraction)** | 3대 키워드(격리, 기준점, 일관성)를 사용한 구조화 여부 | 15점 |
| **Rule 기반 검증** | 필수 키워드 포함 및 물리적 순서(분할→학습) 일치 여부 | 15점 |

---

## 2. [3P] 실시간 '오리 힌트' 시스템
[cite_start]사용자가 텍스트 입력 중 '오리 사진'을 클릭하면 시스템이 즉시 상태를 진단하여 4가지 유형 중 하나를 출력합니다[cite: 10].

### [cite_start]💡 힌트 유형 및 감지 로직 [cite: 34]
* **유형 1. [격리] 개념 부족 (순서 오류/분리 미흡)**
    * [cite_start]**감지:** `split`, `분할` 등의 키워드가 없거나 `fit`이 `split`보다 먼저 등장할 때 [cite: 34]
    * [cite_start]**메시지:** "모델이 학습하는 동안 미래의 정답지(Test)를 한 번이라도 훔쳐본다면, 그 성능을 신뢰할 수 있을까요? 물리적인 벽을 세우는 시점을 고민해 보세요." [cite: 14]
* **유형 2. [기준점] 개념 부족 (Train/Test 혼동)**
    * [cite_start]**감지:** `fit` 다음에 `all`, `전체`, `test` 등의 단어가 바로 붙어 나오는 경우 [cite: 34]
    * [cite_start]**메시지:** "우리가 가진 유일한 **'믿을 수 있는 과거'**는 어떤 데이터셋인가요? 그 데이터셋만이 기준점(`fit`)이 될 자격이 있습니다." [cite: 20]
* **유형 3. [일관성] 운영 환경 적용 오류**
    * [cite_start]**감지:** `transform`, `변환` 키워드가 없거나 훈련 데이터에만 처리를 하고 테스트 언급이 없는 경우 [cite: 34]
    * [cite_start]**메시지:** "학습할 때는 섭씨(°C)로 가르치고, 시험 볼 때는 화씨(°F)로 물어본다면 모델이 정답을 맞출 수 있을까요? 변환의 기준을 똑같이 맞추는 방법은 무엇일까요?" [cite: 31]
* **유형 4. [추상화] 논리적 연결 부족**
    * [cite_start]**감지:** 키워드는 있으나 순서/인과관계 표현(`->`, `다음으로` 등)이 없거나 글자 수가 매우 짧을 때 [cite: 34]
    * [cite_start]**메시지:** "키워드는 완벽해요! 이제 이 재료들을 연결해볼까요? '격리'가 된 상태에서 '기준점'을 잡아야 하는 공학적인 이유는 무엇일까요?" [cite: 25]

---

## 3. [4P] Deep Dive: 실제 구현 및 위기 대응
[cite_start]사용자의 의사코드를 실제 코드로 변환하고(50점), 꼬리 질문을 통해 논리적 개연성을 검증합니다[cite: 35, 36].

### [cite_start]🛠️ Python 코드 생성 원칙 (LLM 페르소나) [cite: 43-47]
* 반드시 `train_test_split`을 사용하여 데이터를 먼저 분할한다.
* `StandardScaler`를 활용하여 전처리를 수행한다.
* **핵심 로직:** `scaler.fit(X_train)`은 오직 훈련 데이터에만 적용하고, 테스트 데이터에는 `transform()`만 적용한다.

### [cite_start]🎯 딥다이브 3대 핵심 시나리오 (랜덤 추출) [cite: 72, 73]
1.  [cite_start]**[시간] 데이터 드리프트:** 1년 뒤 데이터 분포가 완전히 바뀌었을 때, '일관성' 원칙을 깨고 기준을 바꿀 것인가? [cite: 75]
2.  [cite_start]**[환경] 실시간 서빙:** 0.1초 내 결과가 필요한 시스템에서 매번 전체 데이터를 `fit` 하는 것이 불가능할 때의 엔지니어링적 타협점은? [cite: 79]
3.  [cite_start]**[한계] 데이터 부족:** 데이터가 100건뿐일 때 '격리' 원칙을 지키면서 모델을 검증할 '교차 검증(Cross-validation)' 전략은? [cite: 83]

---

## 4. [5P] 최종 리포트 및 맞춤형 진단
[cite_start]5가지 지표 점수를 입력받아 최종 페르소나를 부여하고 맞춤형 콘텐츠를 추천합니다[cite: 114].

### [cite_start]🏆 페르소나 뱅크 [cite: 131-136]
* **원칙 중심의 이론가:** 설계/정합성 점수는 높으나 예외처리 점수가 낮음
* **손이 빠른 실무형 코더:** 구현력/설계력 점수는 높으나 추상화 점수가 낮음
* **통찰력 있는 기획자:** 예외처리/추상화 점수는 높으나 구현력 점수가 낮음
* **완벽한 방어기제의 철옹성 설계자:** 전체 평균 점수가 80점 이상인 경우

### [cite_start]📺 지표별 추천 콘텐츠 (유튜브 큐레이션) [cite: 90-107]
* **설계력 부족:** 머신러닝 파이프라인 설계 원칙 영상 추천
* **예외처리 부족:** MLOps, 데이터 드리프트 대응 실무 영상 추천
* **정합성 부족:** 데이터 누수(Leakage) 방지 심화 가이드 영상 추천
* [cite_start]**마스터(80점↑):** 기업형 AI 시스템 설계(Enterprise Scale ML) 영상 추천 [cite: 110]

---

## [cite_start]5. 최종 피드백 출력 양식 (Prompt Template) [cite: 140-148]

```markdown
### 최종 진단: {Persona 명칭}
**"{한 줄 총평}"**

---

#### 🧐 지표별 정밀 분석
* **강점 [{최강 지표}]:** {Keyword Bank를 활용한 긍정 근거 2문장}
* **보완점 [{최약 지표}]:** {Keyword Bank를 활용한 부정적 위험 요소 2문장}

#### 🚀 마스터의 원포인트 레슨
{최약 지표 개선을 위한 학습 방향 및 사고방식 조언 1문장}