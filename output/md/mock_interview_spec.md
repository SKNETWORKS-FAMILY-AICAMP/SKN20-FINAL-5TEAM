# ëª¨ì˜ë©´ì ‘ ì—”ì§„ êµ¬í˜„ ì§€ì‹œì„œ

ë„ˆëŠ” ì‹œë‹ˆì–´ Python ë°±ì—”ë“œ + Vue.js í”„ë¡ íŠ¸ì—”ë“œ ì—”ì§€ë‹ˆì–´ë‹¤.
ì•„ë˜ ëª…ì„¸ë¥¼ ì •í™•íˆ ë”°ë¥´ëŠ” ëª¨ì˜ë©´ì ‘ ì‹œìŠ¤í…œì„ êµ¬í˜„í•œë‹¤.

ì•„í‚¤í…ì²˜ë¥¼ ë‹¨ìˆœí™”í•˜ì§€ ë§ˆë¼.
ëª¨ë“ˆì„ í•©ì¹˜ì§€ ë§ˆë¼.
ì—­í•  ë¶„ë¦¬ë¥¼ ë°˜ë“œì‹œ ìœ ì§€í•˜ë¼.

---

## í•µì‹¬ ì„¤ê³„ ì›ì¹™ (ì ˆëŒ€ ê¹¨ì§€ë©´ ì•ˆ ë¨)

### ì›ì¹™ 1: ê²°ì •ê¶Œì€ ì—”ì§„ì—ë§Œ ìˆë‹¤

LLMì€ íŒë‹¨í•˜ì§€ ì•ŠëŠ”ë‹¤.
LLMì€ ì˜¤ì§ **ì •ë³´ ì¡´ì¬ ì—¬ë¶€ë§Œ íƒœê¹…**í•œë‹¤.
í‰ê°€ ê²°ê³¼ëŠ” **ê·œì¹™ìœ¼ë¡œë§Œ** ë‚˜ì˜¨ë‹¤.

| ì—­í•  | ë‹´ë‹¹ |
|------|------|
| ì˜ë¯¸ í•´ì„ | LLM (Analyst) |
| ìƒíƒœ íŒì • | Engine |
| ì§„í–‰ ì „ëµ | Planner |
| ë§íˆ¬ | Humanizer |

> **LLMì´ "ì¢‹ë‹¤/ë‚˜ì˜ë‹¤"ë¥¼ ë§í•˜ëŠ” ìˆœê°„ ì´ ì„œë¹„ìŠ¤ëŠ” ì‹ ë¢°ë„ë¥¼ ìƒëŠ”ë‹¤.**

### ì›ì¹™ 2: í‰ê°€ ë‹¨ìœ„ëŠ” ê°œë…ì´ ì•„ë‹ˆë¼ ì¦ê±°ë‹¤

- "í˜‘ì—… ëŠ¥ë ¥ ìˆìŒ" ê°™ì€ ì¶”ìƒì  íŒë‹¨ ê¸ˆì§€
- ëŒ€ì‹ : **íŠ¹ì • êµ¬ì¡°ì˜ ë°œí™”ê°€ ì¡´ì¬í–ˆëŠ”ê°€?** ë¥¼ ë³¸ë‹¤

### ì›ì¹™ 3: ëŒ€í™”ëŠ” ìì—°ìŠ¤ëŸ½ê²Œ, í‰ê°€ëŠ” ê¸°ê³„ì ìœ¼ë¡œ

- ë‚´ë¶€ëŠ” ìƒíƒœë¨¸ì‹ 
- ì™¸ë¶€ëŠ” ë©´ì ‘ê´€

---

## í•„ìˆ˜ ê·œì¹™

### ê¸°ìˆ  ìŠ¤íƒ ì›ì¹™

ì˜¤ë˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆë¼.
**ê²€ì¦ëœ ìµœì‹  ë²„ì „**ì„ ì‚¬ìš©í•œë‹¤.
êµ¬í˜„ ì „ì— ì‚¬ìš©í•  ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ìµœì‹  ì•ˆì • ë²„ì „ì„ í™•ì¸í•˜ê³  ì ìš©í•˜ë¼.
deprecatedëœ í•¨ìˆ˜ë‚˜ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì§€ ë§ˆë¼.
ê³µì‹ ë¬¸ì„œ ê¸°ì¤€ìœ¼ë¡œ í˜„ì¬ ê¶Œì¥ë˜ëŠ” ë°©ì‹ë§Œ ì‚¬ìš©í•˜ë¼.

### ê¸°ìˆ  ì„ íƒ ê°€ì´ë“œ

ì•„ë˜ ì˜ì—­ë³„ë¡œ ì„ íƒ ê°€ëŠ¥í•œ ê¸°ìˆ ê³¼ ê°ê°ì˜ ì—­í• /íŠ¹ì§•ì„ ì •ë¦¬í•œë‹¤.
êµ¬í˜„ ì‹œ ì´ ì¤‘ì—ì„œ í”„ë¡œì íŠ¸ì— ì í•©í•œ ê¸°ìˆ ì„ ì„ íƒí•˜ì—¬ ì‚¬ìš©í•˜ë¼.
ì„ íƒ ê·¼ê±°ë¥¼ ì½”ë“œ ì£¼ì„ì´ë‚˜ READMEì— ê°„ë‹¨íˆ ë‚¨ê²¨ë¼.

#### LLM API

| ì„ íƒì§€ | ì—­í•  | íŠ¹ì§• |
|--------|------|------|
| **OpenAI GPT-4o** | ë²”ìš© LLM (Analyst, Interviewer, Coach) | ë¹ ë¥´ê³  ë¹„ìš© íš¨ìœ¨ì . í•œêµ­ì–´ ì„±ëŠ¥ ìš°ìˆ˜. ê¸°ì¡´ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘ |
| **OpenAI GPT-4o-mini** | ê²½ëŸ‰ LLM (ë‹¨ìˆœ íŒë‹¨ ì‘ì—…) | ë” ë¹ ë¥´ê³  ì €ë ´. ë‹¨ìˆœ JSON ë¶„ë¥˜(Analystì˜ evidence íƒœê¹… ë“±)ì— ì í•© |
| **OpenAI o1 / o3** | ì¶”ë¡ í˜• LLM (ë³µì¡í•œ ë¶„ì„) | ê¹Šì€ ì¶”ë¡  í•„ìš”ì‹œ. ëŠë¦¬ì§€ë§Œ ì •í™• |
| **Anthropic Claude 3.5 Sonnet** | ëŒ€ì•ˆ LLM | í•œêµ­ì–´ í’ˆì§ˆ ìš°ìˆ˜. OpenAI ì¥ì•  ì‹œ fallback ê°€ëŠ¥ |

- ì—­í• ë³„ë¡œ ë‹¤ë¥¸ ëª¨ë¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ (ì˜ˆ: AnalystëŠ” GPT-4o-mini, HumanizerëŠ” GPT-4o)
- `openai >= 1.0` ì‹ ê·œ SDK ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë¼ (êµ¬ë²„ì „ `openai.ChatCompletion` ê¸ˆì§€)

#### í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬

| ì„ íƒì§€ | ì—­í•  | íŠ¹ì§• |
|--------|------|------|
| **Vue 3 Composition API + `<script setup>`** | ì»´í¬ë„ŒíŠ¸ ì‘ì„± | ê¸°ì¡´ í”„ë¡œì íŠ¸ í‘œì¤€. íƒ€ì… ì¶”ë¡  ìš°ìˆ˜, ì½”ë“œ ê°„ê²° |
| **Pinia** | ìƒíƒœ ê´€ë¦¬ | Vue 3 ê³µì‹ ìƒíƒœê´€ë¦¬. ê¸°ì¡´ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš© ì¤‘ |
| **Vuex** | ìƒíƒœ ê´€ë¦¬ (ë ˆê±°ì‹œ) | Vue 3ì—ì„œ deprecated ë°©í–¥. ì‚¬ìš© ê¸ˆì§€ |
| **Options API** | ì»´í¬ë„ŒíŠ¸ ì‘ì„± (ë ˆê±°ì‹œ) | Vue 2 ìŠ¤íƒ€ì¼. ì‚¬ìš© ê¸ˆì§€ |

#### SSE í´ë¼ì´ì–¸íŠ¸ (í”„ë¡ íŠ¸ì—ì„œ ìŠ¤íŠ¸ë¦¬ë° ìˆ˜ì‹ )

| ì„ íƒì§€ | ì—­í•  | íŠ¹ì§• |
|--------|------|------|
| **fetch + ReadableStream** | SSE ìˆ˜ì‹  | ë¸Œë¼ìš°ì € ë‚´ì¥ API. ë³„ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆí•„ìš”. POST ìš”ì²­ ì§€ì› |
| **EventSource (ë¸Œë¼ìš°ì € ë‚´ì¥)** | SSE ìˆ˜ì‹  | ê°„ë‹¨í•˜ì§€ë§Œ GETë§Œ ì§€ì›. POST ë‹µë³€ ì œì¶œì—ëŠ” ë¶€ì í•© |
| **@microsoft/fetch-event-source** | SSE ìˆ˜ì‹  | POST ì§€ì› + ìë™ ì¬ì—°ê²°. fetch ê¸°ë°˜ SSE ë¼ì´ë¸ŒëŸ¬ë¦¬ |

- ë©´ì ‘ ë‹µë³€ ì œì¶œì€ POST ìš”ì²­ì´ë¯€ë¡œ EventSource(GET ì „ìš©)ëŠ” ë¶€ì í•©

#### ë°±ì—”ë“œ ìŠ¤íŠ¸ë¦¬ë°

| ì„ íƒì§€ | ì—­í•  | íŠ¹ì§• |
|--------|------|------|
| **Django StreamingHttpResponse** | SSE ì„œë²„ | ê¸°ì¡´ BugHuntInterviewViewì—ì„œ ê²€ì¦ë¨. ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš” |
| **Django Channels (WebSocket)** | ì–‘ë°©í–¥ í†µì‹  | ì‹¤ì‹œê°„ ì–‘ë°©í–¥ í•„ìš”ì‹œ. í˜„ì¬ ë©´ì ‘ì—ì„œëŠ” ë‹¨ë°©í–¥ì´ë©´ ì¶©ë¶„ |
| **ASGI + Starlette** | ë¹„ë™ê¸° ìŠ¤íŠ¸ë¦¬ë° | ì„±ëŠ¥ ìš°ìˆ˜í•˜ì§€ë§Œ ê¸°ì¡´ WSGI í”„ë¡œì íŠ¸ì™€ êµ¬ì¡°ê°€ ë‹¤ë¦„ |

#### ìŒì„± ì¸ì‹ (Phase 2)

| ì„ íƒì§€ | ì—­í•  | íŠ¹ì§• |
|--------|------|------|
| **silero-vad + faster-whisper** | ë¡œì»¬ VAD + STT | ë„¤íŠ¸ì›Œí¬ ì§€ì—° ì—†ìŒ. ë¹„ìš© ì—†ìŒ. ì •í™•ë„ ìµœìš°ì„ . GPU ê¶Œì¥ |
| **Web Speech API (ë¸Œë¼ìš°ì €)** | ë¸Œë¼ìš°ì € ë‚´ì¥ STT | ì„¤ì¹˜ ë¶ˆí•„ìš”. ì •í™•ë„ ë‚®ìŒ. Chrome ì˜ì¡´. ë¹„ì¶”ì²œ |
| **OpenAI Whisper API** | í´ë¼ìš°ë“œ STT | ì„¤ì¹˜ ê°„í¸. ë„¤íŠ¸ì›Œí¬ í•„ìš”. ë¹„ìš© ë°œìƒ. ì •í™•ë„ ë†’ìŒ |
| **Google Speech-to-Text** | í´ë¼ìš°ë“œ STT | ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì§€ì›. ë¹„ìš© ë°œìƒ. í•œêµ­ì–´ í’ˆì§ˆ ìš°ìˆ˜ |

- Phase 2 ê¸°ë³¸ ì„ íƒ: silero-vad + faster-whisper (ì •í™•ë„ ìµœìš°ì„ , ë¡œì»¬ ì‹¤í–‰)

#### í”„ë¡ íŠ¸ ë¯¸ë””ì–´ ìº¡ì²˜ (Phase 2)

| ì„ íƒì§€ | ì—­í•  | íŠ¹ì§• |
|--------|------|------|
| **MediaRecorder API (ë¸Œë¼ìš°ì €)** | ìŒì„± ë…¹ìŒ | ë¸Œë¼ìš°ì € ë‚´ì¥. ë³„ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆí•„ìš”. WebM/Opus ì¶œë ¥ |
| **RecordRTC** | ìŒì„±/ì˜ìƒ ë…¹ìŒ | í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í˜¸í™˜. WAV ì¶œë ¥ ì§€ì›. npm íŒ¨í‚¤ì§€ |
| **getUserMedia API (ë¸Œë¼ìš°ì €)** | ì›¹ìº  ìŠ¤íŠ¸ë¦¼ | ë¸Œë¼ìš°ì € ë‚´ì¥. ì¹´ë©”ë¼ ì ‘ê·¼ìš© |

### íŒŒì¼ êµ¬ì¡° ì›ì¹™

**ëª¨ë“  íŒŒì¼ì€ ì§€ì •ëœ í´ë” ì•ˆì— ë„£ëŠ”ë‹¤. í©ì–´ì§€ê²Œ êµ¬í˜„í•˜ì§€ ë§ˆë¼.**

```
ë°±ì—”ë“œ ë©´ì ‘ ê´€ë ¨ íŒŒì¼ì€ ë°˜ë“œì‹œ ë‹¤ìŒ êµ¬ì¡°ë¥¼ ë”°ë¥¸ë‹¤:

backend/core/
  models/
    interview_model.py          # ë©´ì ‘ ê´€ë ¨ ëª¨ë¸ ì „ë¶€ ì´ íŒŒì¼ì—
  views/
    interview/                  # ë©´ì ‘ ê´€ë ¨ ë·°ëŠ” ì´ í´ë” ì•ˆì—
      __init__.py
      job_posting_view.py       # ì±„ìš©ê³µê³  CRUD API
      session_view.py           # ë©´ì ‘ ì„¸ì…˜ API + ë¹„ì „ ë¶„ì„ ì €ì¥
      answer_view.py            # ë‹µë³€ ì œì¶œ + SSE ìŠ¤íŠ¸ë¦¬ë° API
      stt_view.py               # ìŒì„±â†’í…ìŠ¤íŠ¸ ë³€í™˜ API (Phase 2)
      tts_view.py               # í…ìŠ¤íŠ¸â†’ìŒì„± ë³€í™˜ API (Phase 2)
      video_view.py             # ì•„ë°”íƒ€ ë¦½ì‹±í¬ ì˜ìƒ ìƒì„± API (Phase 2)
  services/
    interview/                  # ë©´ì ‘ ê´€ë ¨ ì„œë¹„ìŠ¤ëŠ” ì´ í´ë” ì•ˆì—
      __init__.py
      state_engine.py           # L2: Engine â€” ìƒíƒœ ê²°ì •ê¸° (ì‹œìŠ¤í…œì˜ ë‡Œ)
      analyst.py                # L1: Analyst â€” ì¦ê±° ì¶”ì¶œê¸° (LLM)
      planner.py                # L3: Planner â€” intent ê²°ì • (ìˆœìˆ˜ Python rules, LLM ì—†ìŒ)
      interviewer.py            # L4+L5: ì§ˆë¬¸ ìƒì„± + ë§íˆ¬ ë³´ì • (LLM 1ë²ˆ)
      humanizer.py              # L5: ì»¨í…ìŠ¤íŠ¸ ì¡°ë¦½ ìœ í‹¸ (LLM ì—†ìŒ)
      coach.py                  # Coach: evidence ê¸°ë°˜ êµ¬ì¡°ì  í”¼ë“œë°± (LLM ì—†ìŒ, í…œí”Œë¦¿)
      plan_generator.py         # ë©´ì ‘ ê³„íš ìƒì„± (ê³µê³  + ì·¨ì•½ì  â†’ interview_plan)
      feedback_generator.py     # ìµœì¢… í”¼ë“œë°± ìƒì„±
      weakness_analyzer.py      # ì‚¬ìš©ì ì·¨ì•½ì  ë¶„ì„
      musetalk_service.py       # ì•„ë°”íƒ€ ì˜ìƒ ìƒì„± ì„œë¹„ìŠ¤ (Phase 2)

í”„ë¡ íŠ¸ì—”ë“œ ë©´ì ‘ ê´€ë ¨ íŒŒì¼ì€ ë°˜ë“œì‹œ ë‹¤ìŒ êµ¬ì¡°ë¥¼ ë”°ë¥¸ë‹¤:

frontend/src/features/interview/
  MockInterview.vue
  tts.js                       # TTS ìœ í‹¸ë¦¬í‹°
  components/
    JobPostingSelector.vue
    InterviewChat.vue
    InterviewFeedback.vue
    InterviewHistory.vue       # ë©´ì ‘ ê¸°ë¡
    AudioRecorder.vue          # ìŒì„± ë…¹ìŒ (Phase 2)
    WebcamDisplay.vue          # ì›¹ìº  í‘œì‹œ (Phase 2)
    VisionAnalysisReport.vue   # ë¹„ì „ ë¶„ì„ ë³´ê³ ì„œ (Phase 2)
  composables/
    useInterview.js            # ì„¸ì…˜/ë©”ì‹œì§€/í”¼ë“œë°± ìƒíƒœ ê´€ë¦¬ (SSE í¬í•¨)
  api/
    interviewApi.js
```

ë©´ì ‘ê³¼ ë¬´ê´€í•œ ê¸°ì¡´ í´ë”ì— ë©´ì ‘ íŒŒì¼ì„ ë„£ì§€ ë§ˆë¼.
í•˜ë‚˜ì˜ íŒŒì¼ì— ì—¬ëŸ¬ ì—­í• ì„ í•©ì¹˜ì§€ ë§ˆë¼.
í´ë” êµ¬ì¡°ê°€ ëª…ì‹œë˜ì–´ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ë”°ë¥´ë¼.

---

## í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸

ì´ ì‹œìŠ¤í…œì€ ê¸°ì¡´ AI-ARCADE êµìœ¡ í”Œë«í¼ì— ì¶”ê°€ë˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.

**ê¸°ì¡´ ê¸°ìˆ  ìŠ¤íƒ:**
- Backend: Django + DRF (PostgreSQL)
- Frontend: Vue 3 + Vite + Pinia
- LLM: OpenAI GPT API
- ì¸ì¦: Session ê¸°ë°˜ + CSRF
- ìŠ¤íŠ¸ë¦¬ë°: SSE (Server-Sent Events) - BugHuntInterviewViewì—ì„œ ì‚¬ìš© ì¤‘

**ê¸°ì¡´ ì½”ë“œ ìœ„ì¹˜:**
- ëª¨ë¸: `backend/core/models/`
- ë·°: `backend/core/views/`
- URL: `backend/core/urls.py`
- í”„ë¡ íŠ¸ ë¼ìš°í„°: `frontend/src/main.js`
- Job Planner ë·°: `backend/core/views/job_planner/job_planner_view.py`
- í™œë™ ëª¨ë¸: `backend/core/models/activity_model.py`

---

# PHASE 1: ëª¨ì˜ë©´ì ‘ ì—”ì§„ (í…ìŠ¤íŠ¸ ì…ë ¥)

MVP ë‹¨ê³„. ì‚¬ìš©ìëŠ” í…ìŠ¤íŠ¸ë¡œ ë‹µë³€ì„ ì…ë ¥í•œë‹¤.
Phase 2ì—ì„œ ìŒì„± ì…ë ¥ìœ¼ë¡œ ì „í™˜í•œë‹¤ (ë©´ì ‘ ì—”ì§„ ì½”ë“œ ë³€ê²½ ì—†ìŒ).

---

## 1. í”„ë¡œì íŠ¸ ëª©í‘œ

ì±„ìš©ê³µê³  ë¶„ì„ ê²°ê³¼ + ì‚¬ìš©ì í•™ìŠµ ì·¨ì•½ì  ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ
ëŒ€í™”í˜• ëª¨ì˜ë©´ì ‘ì„ ì§„í–‰í•˜ëŠ” ì‹œìŠ¤í…œì„ êµ¬í˜„í•œë‹¤.

í•µì‹¬ ê¸°ëŠ¥:
- ì±„ìš©ê³µê³  ê¸°ë°˜ ë§ì¶¤ ë©´ì ‘ ì§ˆë¬¸ ìƒì„±
- ì‚¬ìš©ì ì·¨ì•½ì  ê¸°ë°˜ ì§ˆë¬¸ ê°€ì¤‘ì¹˜ ë¶€ì—¬
- ë‹µë³€ ë¶„ì„ â†’ ê¼¬ë¦¬ì§ˆë¬¸ ìƒì„± â†’ í‰ê°€ ëˆ„ì  â†’ í”¼ë“œë°± ì œê³µ
- SSE ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ ì‹¤ì‹œê°„ ì§ˆë¬¸/í”¼ë“œë°± ì „ë‹¬
- ë©´ì ‘ ê²°ê³¼ë¥¼ DBì— ì €ì¥ (í•©ê²©/ë¶ˆí•©ê²© ì ìˆ˜ê°€ ì•„ë‹Œ ì •ì„±ì  í”¼ë“œë°±)

ì´ ì‹œìŠ¤í…œì€ ì±—ë´‡ì´ ì•„ë‹ˆë‹¤.
**ê²°ì •ë¡ ì  ì¸í„°ë·° ì—”ì§„ + ëŒ€í™” ì¸í„°í˜ì´ìŠ¤ë‹¤.**

ì—”ì§„ì´ ì ˆëŒ€ ê¶Œí•œìœ¼ë¡œ íë¦„ì„ í†µì œí•˜ê³ , LLMì€ ì •ë³´ ì¡´ì¬ ì—¬ë¶€ë§Œ íƒœê¹…í•œë‹¤.
LLMì€ ì ˆëŒ€ "ê²°ì •"í•˜ì§€ ì•ŠëŠ”ë‹¤. LLMì´ "ì¢‹ë‹¤/ë‚˜ì˜ë‹¤"ë¥¼ íŒë‹¨í•˜ëŠ” ìˆœê°„ ì´ ì„œë¹„ìŠ¤ì˜ ì‹ ë¢°ë„ëŠ” ë¬´ë„ˆì§„ë‹¤.

---

## 2. ìƒíƒœ ëª¨ë¸ (State Machine)

### 2-1. ì—­ëŸ‰ ìŠ¬ë¡¯ êµ¬ì¡°

ê° ì—­ëŸ‰ì€ ì ìˆ˜ê°€ ì•„ë‹ˆë¼ **ì¦ê±°(Evidence) ì§‘í•©**ì´ë‹¤.

EvidenceëŠ” **í•µì‹¬(required)**ê³¼ **ë³´ì¡°(optional)**ë¡œ êµ¬ë¶„í•œë‹¤.
CLEAR ì¡°ê±´ì€ íŠ¹ì • í•­ëª© í•˜ë‚˜ì˜ ìœ ë¬´ê°€ ì•„ë‹ˆë¼ **í•µì‹¬ evidence ê¸°ì¤€**ìœ¼ë¡œ íŒë‹¨í•œë‹¤.

**Collaboration ì—­ëŸ‰ ì˜ˆì‹œ:**

| Evidence | ì˜ë¯¸ | êµ¬ë¶„ |
|----------|------|------|
| `role` | ë³¸ì¸ ì—­í•  ëª…ì‹œ | í•µì‹¬ |
| `action` | ë³¸ì¸ í–‰ë™ ì„¤ëª… | í•µì‹¬ |
| `result` | ê²°ê³¼ ë³€í™” | í•µì‹¬ |
| `conflict` | ê°ˆë“± ìƒí™© ì–¸ê¸‰ | ë³´ì¡° |
| `reflection` | ë°°ìš´ ì  | ë³´ì¡° |

> `conflict`ê°€ ì—†ì–´ë„ role + action + resultê°€ í™•ì¸ë˜ë©´ í˜‘ì—… ì—­ëŸ‰ì´ ì¶©ë¶„íˆ ë“œëŸ¬ë‚œ ê²ƒì´ë‹¤.
> ê°ˆë“± ì—†ì´ë„ í›Œë¥­í•œ í˜‘ì—… ë‹µë³€ì€ ì¡´ì¬í•œë‹¤.

### 2-2. ìŠ¬ë¡¯ ìƒíƒœ ì „ì´ ê·œì¹™

| ìƒíƒœ | ì¡°ê±´ |
|------|------|
| `UNKNOWN` | í•µì‹¬ evidence 0~1ê°œ |
| `UNCERTAIN` | attempt 2íšŒ ì´ìƒì´ë‚˜ CLEAR ë¯¸ë‹¬ |
| `PARTIAL` | í•µì‹¬ evidence 2ê°œ ì´ìƒ (ì „ì²´ ë¯¸ë‹¬) |
| `CLEAR` | í•µì‹¬ evidence ì „ì²´ í™•ì¸ |

**CLEAR íŒë‹¨ ê¸°ì¤€:**
- í•µì‹¬ evidence ì „ë¶€ True â†’ CLEAR
- ë³´ì¡° evidenceëŠ” CLEAR íŒë‹¨ì— í¬í•¨í•˜ì§€ ì•ŠìŒ (ìµœì¢… í”¼ë“œë°±ì—ëŠ” ë°˜ì˜)

**ì—”ì§„ë§Œ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.** LLMì€ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.

### 2-3. ì‚¬ì „ ì‘ì—…: DB ì •ë¦¬

ë‹¤ìŒ í…Œì´ë¸”ë“¤ì€ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ ì‹¤í—˜ ì¤‘ ìƒì„±ëœ ê²ƒìœ¼ë¡œ, ì‚­ì œí•œë‹¤:

```sql
DROP TABLE IF EXISTS job_agent_action CASCADE;
DROP TABLE IF EXISTS job_agent_goal CASCADE;
DROP TABLE IF EXISTS job_agent_state CASCADE;
```

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸

### 3-1. SavedJobPosting (ì±„ìš©ê³µê³  ì €ì¥)

íŒŒì¼: `backend/core/models/interview_model.py` (ì‹ ê·œ ìƒì„±)

```python
class SavedJobPosting(BaseModel):
    """Job Plannerì—ì„œ íŒŒì‹±ëœ ì±„ìš©ê³µê³  ì €ì¥"""
    user = models.ForeignKey(UserProfile, on_delete=models.CASCADE, related_name='saved_job_postings')
    company_name = models.CharField(max_length=200)
    position = models.CharField(max_length=200)
    job_responsibilities = models.TextField(blank=True, default='')
    required_qualifications = models.TextField(blank=True, default='')
    preferred_qualifications = models.TextField(blank=True, default='')
    required_skills = models.JSONField(default=list)       # ["Python", "Django", ...]
    preferred_skills = models.JSONField(default=list)       # ["Docker", "AWS", ...]
    experience_range = models.CharField(max_length=50, blank=True, default='')
    deadline = models.CharField(max_length=50, null=True, blank=True)
    source = models.CharField(max_length=20)                # 'url', 'image', 'text'
    source_url = models.URLField(max_length=500, blank=True, default='')
    raw_text = models.TextField(blank=True, default='')
    parsed_data = models.JSONField(default=dict)

    class Meta:
        db_table = 'gym_saved_job_posting'
        ordering = ['-create_date']
        constraints = [
            models.UniqueConstraint(
                fields=['user', 'source_url'],
                condition=~models.Q(source_url=''),
                name='unique_user_source_url'
            )
        ]
```

**ì¤‘ë³µ ì €ì¥ ë°©ì§€:** ë™ì¼ ì‚¬ìš©ìê°€ ë™ì¼ URLì„ ë‹¤ì‹œ íŒŒì‹±í•˜ë©´ `update_or_create`ë¡œ ì—…ë°ì´íŠ¸í•œë‹¤.

### 3-2. InterviewSession (ë©´ì ‘ ì„¸ì…˜)

```python
class InterviewSession(BaseModel):
    """ëª¨ì˜ë©´ì ‘ ì„¸ì…˜"""
    user = models.ForeignKey(UserProfile, on_delete=models.CASCADE, related_name='interview_sessions')
    job_posting = models.ForeignKey(SavedJobPosting, on_delete=models.SET_NULL, null=True, related_name='interview_sessions')

    # ì—­ëŸ‰ ìŠ¬ë¡¯ ìƒíƒœ (ì¦ê±° ê¸°ë°˜)
    slot_states = models.JSONField(default=dict)
    # êµ¬ì¡°:
    # {
    #   "collaboration": {
    #     "status": "PARTIAL",        # UNKNOWN | UNCERTAIN | PARTIAL | CLEAR
    #     "evidence": {
    #       "conflict": true,
    #       "role": true,
    #       "action": false,
    #       "result": false,
    #       "reflection": false
    #     },
    #     "attempt_count": 1          # ë™ì¼ ìŠ¬ë¡¯ ì‹œë„ íšŸìˆ˜
    #   },
    #   ...
    # }

    # ë©´ì ‘ ê³„íš (ì„¸ì…˜ ì‹œì‘ ì‹œ ìƒì„±)
    interview_plan = models.JSONField(default=dict)

    # ìƒíƒœ ê´€ë¦¬
    status = models.CharField(max_length=20, default='in_progress')
    # 'in_progress', 'completed', 'abandoned'
    current_slot = models.CharField(max_length=50, default='')
    current_turn = models.IntegerField(default=0)
    max_turns = models.IntegerField(default=20)

    # ì´ì „ ì§ˆë¬¸ ê¸°ë¡ (Plannerê°€ ë°˜ë³µ ë°©ì§€ì— ì‚¬ìš©)
    question_history = models.JSONField(default=list)
    # [{"slot": "collaboration", "intent": "í–‰ë™ íšŒìƒ ìœ ë„", "turn": 1}, ...]

    started_at = models.DateTimeField(auto_now_add=True)
    finished_at = models.DateTimeField(null=True, blank=True)

    class Meta:
        db_table = 'gym_interview_session'
        ordering = ['-started_at']
```

### 3-3. InterviewTurn (ë©´ì ‘ í„´ ê¸°ë¡)

```python
class InterviewTurn(BaseModel):
    """ë©´ì ‘ ë§¤ í„´ ê¸°ë¡"""
    session = models.ForeignKey(InterviewSession, on_delete=models.CASCADE, related_name='turns')
    turn_number = models.IntegerField()
    slot = models.CharField(max_length=50)               # ì—­ëŸ‰ ìŠ¬ë¡¯ëª…

    question = models.TextField()                         # ë©´ì ‘ê´€ ì§ˆë¬¸ (Humanizer ì¶œë ¥)
    answer = models.TextField(blank=True, default='')     # ì‚¬ìš©ì ë‹µë³€

    # L1 Analyst ì¶œë ¥ (ë‚´ë¶€ ì „ìš©, ì‚¬ìš©ìì—ê²Œ ë¯¸í‘œì‹œ)
    evidence_map = models.JSONField(default=dict)
    # {"conflict": true, "role": true, "action": false, "result": false, "reflection": false}

    # L2 Engine ê²°ì •
    slot_status_before = models.CharField(max_length=20, default='UNKNOWN')
    slot_status_after = models.CharField(max_length=20, default='UNKNOWN')
    engine_action = models.CharField(max_length=30, default='')
    # 'continue', 'move_slot', 'finish'

    # L3 Planner ì¶œë ¥
    intent = models.CharField(max_length=100, default='')
    # ì˜ˆ: "í–‰ë™ íšŒìƒ ìœ ë„", "ê²°ê³¼ ë³€í™” í™•ì¸", "ê°€ì¹˜ê´€ íƒìƒ‰"

    # Coach í”¼ë“œë°± (LLM ì—†ìŒ â€” evidence map ê¸°ë°˜ êµ¬ì¡°ì  ë©”ì‹œì§€, ì‚¬ìš©ìì—ê²Œ í‘œì‹œ)
    coach_feedback = models.TextField(blank=True, default='')
    # ì˜ˆ: "ë§ì”€í•˜ì‹  ì—­í• ê³¼ í–‰ë™ì€ í™•ì¸ëìŠµë‹ˆë‹¤. ì´í›„ ì–´ë–»ê²Œ ë³€í™”í–ˆëŠ”ì§€ ì¡°ê¸ˆ ë” ë“¤ì–´ë³¼ê²Œìš”."

    class Meta:
        db_table = 'gym_interview_turn'
        ordering = ['turn_number']
```

### 3-4. InterviewFeedback (ìµœì¢… í”¼ë“œë°±)

```python
class InterviewFeedback(BaseModel):
    """ë©´ì ‘ ì¢…ë£Œ í›„ ìµœì¢… í”¼ë“œë°± (ì ìˆ˜ ì—†ìŒ, ì¦ê±° ê¸°ë°˜ ì •ì„±ì  í”¼ë“œë°±)"""
    session = models.OneToOneField(InterviewSession, on_delete=models.CASCADE, related_name='feedback')

    # ì—­ëŸ‰ ìŠ¬ë¡¯ë³„ ìµœì¢… ìƒíƒœ ìš”ì•½
    slot_summary = models.JSONField(default=dict)
    # {
    #   "collaboration": {
    #     "final_status": "CLEAR",
    #     "confirmed_evidence": ["conflict", "role", "action", "result"],
    #     "missing_evidence": ["reflection"],
    #     "summary": "ê°ˆë“± ìƒí™©ì—ì„œ ë³¸ì¸ì˜ ì—­í• ê³¼ í–‰ë™ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•¨"
    #   }
    # }

    overall_summary = models.TextField()           # ì „ë°˜ì ì¸ ì´í‰
    top_strengths = models.JSONField(default=list)  # ì¦ê±°ê°€ ì¶©ë¶„íˆ í™•ì¸ëœ ì—­ëŸ‰
    top_improvements = models.JSONField(default=list) # ì¦ê±°ê°€ ë¶€ì¡±í–ˆë˜ ì—­ëŸ‰
    recommendation = models.TextField(blank=True, default='')
    vision_analysis = models.JSONField(null=True, blank=True)  # ë¹„ì „ ë¶„ì„ ê²°ê³¼ (Phase 2)

    class Meta:
        db_table = 'gym_interview_feedback'
```

### 3-5. ëª¨ë¸ ë“±ë¡

`backend/core/models/__init__.py`ì— ì¶”ê°€:
```python
from .interview_model import SavedJobPosting, InterviewSession, InterviewTurn, InterviewFeedback
```

```bash
python manage.py makemigrations core
python manage.py migrate
```

---

## 4. ì—ì´ì „íŠ¸ ê³„ì¸µ êµ¬ì¡°

ì´ ì‹œìŠ¤í…œì˜ í•µì‹¬ì´ë‹¤. ê° ë ˆì´ì–´ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§„ë‹¤.

```
L1 Analyst     â†’ ì¦ê±° ì¶”ì¶œ (True/False íƒœê¹…) [LLM]
L2 Engine      â†’ ìƒíƒœ ê²°ì • (ì‹œìŠ¤í…œì˜ ë‡Œ) [ìˆœìˆ˜ Python]
Coach          â†’ êµ¬ì¡°ì  í”¼ë“œë°± ìƒì„± (evidence ê¸°ë°˜ í…œí”Œë¦¿) [LLM ì—†ìŒ]
L3 Planner     â†’ ì§ˆë¬¸ ì˜ë„ ê²°ì • [ìˆœìˆ˜ Python rules, LLM ì—†ìŒ]
L4 Interviewer â†’ ìì—°ì–´ ì§ˆë¬¸ ìƒì„± + ë§íˆ¬ ë³´ì • [LLM 1ë²ˆ]
L5 Humanizer   â†’ ì»¨í…ìŠ¤íŠ¸ ì¡°ë¦½ ìœ í‹¸ [LLM ì—†ìŒ]
```

**LLM í˜¸ì¶œ íšŸìˆ˜: í„´ë‹¹ ìµœëŒ€ 2ë²ˆ (L1 Analyst + L4 Interviewer)**

### L1 â€” Analyst (ì¦ê±° ì¶”ì¶œê¸°)

íŒŒì¼: `backend/core/services/interview/analyst.py`

```
ì…ë ¥: ì‚¬ìš©ì ë‹µë³€ (str)
ì¶œë ¥: evidence boolean map (dict)
```

**ì—­í• :**
- ë¬¸ì¥ì—ì„œ êµ¬ì¡°ì  ì •ë³´ì˜ ì¡´ì¬ ì—¬ë¶€ë§Œ íŒë‹¨
- True / False ë§Œ ë°˜í™˜

**ì ˆëŒ€ ê¸ˆì§€:**
- "ì˜í–ˆë‹¤" â†’ ê¸ˆì§€
- "ë¶€ì¡±í•˜ë‹¤" â†’ ê¸ˆì§€
- "ê´œì°®ë‹¤" â†’ ê¸ˆì§€
- ì˜¤ì§ True / False

```python
# ì¶œë ¥ ì˜ˆì‹œ (Collaboration ìŠ¬ë¡¯)
{
    "conflict": True,   # ê°ˆë“± ìƒí™© ì–¸ê¸‰ ìˆìŒ
    "role": True,       # ë³¸ì¸ ì—­í•  ëª…ì‹œ ìˆìŒ
    "action": False,    # ë³¸ì¸ í–‰ë™ ì„¤ëª… ì—†ìŒ
    "result": False,    # ê²°ê³¼ ë³€í™” ì—†ìŒ
    "reflection": False # ë°°ìš´ ì  ì—†ìŒ
}
```

**í”„ë¡¬í”„íŠ¸ ì›ì¹™:**
- "ì´ ë°œí™”ì— [X]ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì´ ì¡´ì¬í•˜ëŠ”ê°€? True/Falseë¡œë§Œ ë‹µí•˜ë¼."
- ì¢‹ê³  ë‚˜ì¨ íŒë‹¨ ìœ ë„ ë¬¸êµ¬ í¬í•¨ ê¸ˆì§€

### L2 â€” Engine (ìƒíƒœ ê²°ì •ê¸°)

íŒŒì¼: `backend/core/services/interview/state_engine.py`

```
ì…ë ¥: evidence map (L1 ì¶œë ¥)
ì¶œë ¥: ìŠ¬ë¡¯ ìƒíƒœ ì—…ë°ì´íŠ¸ + ë‹¤ìŒ ëª©í‘œ evidence + engine_action
```

**ì—­í• :**
- ìŠ¬ë¡¯ ìƒíƒœ(UNKNOWN â†’ PARTIAL â†’ CLEAR) ì—…ë°ì´íŠ¸
- ì¢…ë£Œ ì¡°ê±´ íŒë‹¨
- ë‹¤ìŒì— ìˆ˜ì§‘í•  ëª©í‘œ evidence ê²°ì •

**ì—¬ê¸°ê°€ ì‹œìŠ¤í…œì˜ ë‡Œë‹¤. ëª¨ë“  ê²°ì •ì€ ì—¬ê¸°ì„œ ì´ë£¨ì–´ì§„ë‹¤.**

```python
def update_slot(self, slot: str, evidence_map: dict, required: list) -> dict:
    """
    ì—”ì§„ì´ ìŠ¬ë¡¯ ìƒíƒœë¥¼ ê°±ì‹ í•œë‹¤.
    LLMì˜ íŒë‹¨ ì—†ì´ ìˆœìˆ˜ ê·œì¹™ìœ¼ë¡œë§Œ ë™ì‘í•œë‹¤.

    required: í•µì‹¬ evidence ëª©ë¡ (Section 6 ë˜ëŠ” plan_generatorê°€ ê²°ì •)
    CLEAR ê¸°ì¤€: required evidence ì „ë¶€ í™•ì¸ (optionalì€ ë¬´ì‹œ)
    """
    confirmed_required = [k for k in required if evidence_map.get(k)]
    all_confirmed = [k for k, v in evidence_map.items() if v]
    missing_required = [k for k in required if not evidence_map.get(k)]
    count_required = len(confirmed_required)

    if count_required == 0:
        new_status = "UNKNOWN"
    elif count_required < len(required):
        new_status = "PARTIAL"
    else:
        new_status = "CLEAR"  # í•µì‹¬ evidence ì „ë¶€ í™•ì¸

    return {
        "status": new_status,
        "confirmed": all_confirmed,          # ì „ì²´ í™•ì¸ evidence (optional í¬í•¨, í”¼ë“œë°±ìš©)
        "confirmed_required": confirmed_required,  # í•µì‹¬ í™•ì¸ evidence (ìƒíƒœ íŒì •ìš©)
        "missing_required": missing_required  # ì•„ì§ ë¯¸í™•ì¸ í•µì‹¬ evidence
    }

def decide_action(self, session) -> str:
    """
    ì¢…ë£Œ / ìŠ¬ë¡¯ ì´ë™ / ê³„ì† ì—¬ë¶€ë¥¼ ì—”ì§„ì´ ê²°ì •í•œë‹¤.
    """
    # ì¢…ë£Œ ì¡°ê±´
    if session.current_turn >= session.max_turns:
        return "finish"

    all_clear = all(
        s["status"] == "CLEAR"
        for s in session.slot_states.values()
    )
    if all_clear:
        return "finish"

    # í˜„ì¬ ìŠ¬ë¡¯ ìƒíƒœ í™•ì¸
    current = session.slot_states.get(session.current_slot, {})
    attempt_count = current.get("attempt_count", 0)

    if current.get("status") == "CLEAR":
        return "move_slot"

    # 2íšŒ ì‹¤íŒ¨ â†’ UNCERTAIN ì²˜ë¦¬ í›„ ì´ë™
    if attempt_count >= 2:
        return "move_slot"  # Engineì´ UNCERTAINìœ¼ë¡œ ë§ˆí‚¹ í›„ ì´ë™

    return "continue"
```

**ê°€ë“œë ˆì¼ (ì ˆëŒ€ ê·œì¹™):**
```
âœ“ ëª¨ë“  ìŠ¬ë¡¯ ìµœì†Œ 1íšŒ ë°©ë¬¸ ë³´ì¥
âœ“ max_turns ì´ˆê³¼ ê¸ˆì§€
âœ“ ë™ì¼ evidence 2íšŒ ì‹¤íŒ¨ â†’ UNCERTAIN ì²˜ë¦¬ í›„ ë‹¤ìŒ ìŠ¬ë¡¯ ì´ë™
âœ“ ëª¨ë“  ìŠ¬ë¡¯ CLEAR â†’ ì¦‰ì‹œ ì¢…ë£Œ
```

### Coach â€” êµ¬ì¡°ì  í”¼ë“œë°± ìƒì„±ê¸°

íŒŒì¼: `backend/core/services/interview/coach.py`

```
ì…ë ¥: evidence_map (L1 ì¶œë ¥), slot, required (í•µì‹¬ evidence ëª©ë¡)
ì¶œë ¥: coach_feedback (str) â€” ì‚¬ìš©ìì—ê²Œ í‘œì‹œë˜ëŠ” êµ¬ì¡°ì  í”¼ë“œë°± ë©”ì‹œì§€
```

**ì—­í• : LLM ì—†ìŒ. evidence_mapì„ ì½ì–´ Python í…œí”Œë¦¿ìœ¼ë¡œ êµ¬ì¡°ì  í”¼ë“œë°± ë©”ì‹œì§€ë¥¼ ìƒì„±í•œë‹¤.**

CoachëŠ” ì§ˆì  íŒë‹¨ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤. "í™•ì¸ëœ ê²ƒ"ê³¼ "ì•„ì§ í™•ì¸ë˜ì§€ ì•Šì€ ê²ƒ"ë§Œ ì•Œë ¤ì¤€ë‹¤.

**ì ˆëŒ€ ê¸ˆì§€:**
- "ì˜ í•˜ì…¨ìŠµë‹ˆë‹¤" â†’ ê¸ˆì§€ (LLM íŒë‹¨ í‰ë‚´)
- "ë¶€ì¡±í•©ë‹ˆë‹¤" â†’ ê¸ˆì§€ (ë¶€ì •ì  í‰ê°€)
- ì˜¤ì§ êµ¬ì¡°ì  ì‚¬ì‹¤ë§Œ ì „ë‹¬: "ì—­í• ê³¼ í–‰ë™ì€ í™•ì¸ëìŠµë‹ˆë‹¤. ê²°ê³¼ë¥¼ ì¡°ê¸ˆ ë” ë§ì”€í•´ì£¼ì„¸ìš”."

```python
# coach.py â€” LLM ì—†ìŒ, ìˆœìˆ˜ Python í…œí”Œë¦¿

EVIDENCE_LABELS = {
    "role": "ì—­í• ",
    "action": "í–‰ë™",
    "result": "ê²°ê³¼",
    "conflict": "ê°ˆë“± ìƒí™©",
    "reflection": "ë°°ìš´ ì ",
    "concept": "ê°œë… ì´í•´",
    "application": "ì‹¤ì œ ì ìš©",
    "tradeoff": "ê¸°ìˆ ì  íŠ¸ë ˆì´ë“œì˜¤í”„",
    "situation": "ìƒí™©",
    "analysis": "ì›ì¸ ë¶„ì„",
    "approach": "í•´ê²° ì ‘ê·¼ë²•",
    "learning": "ë°°ìš´ ì ",
    "reason": "ì§€ì› ì´ìœ ",
    "research": "íšŒì‚¬ ë¦¬ì„œì¹˜",
    "alignment": "ì§ë¬´ ì í•©ì„±",
    "aspiration": "ì„±ì¥ ë°©í–¥",
}

# ìŠ¬ë¡¯ë³„ ê¸°ë³¸ required evidence (technical_depthëŠ” plan_generatorê°€ ë™ì  ê²°ì •)
SLOT_REQUIRED = {
    "collaboration": ["role", "action", "result"],
    "problem_solving": ["situation", "analysis", "approach"],
    "motivation": ["reason", "alignment"],
    "growth": ["challenge", "effort", "change"],
}

def generate_feedback(slot: str, evidence_map: dict, required: list = None) -> str:
    """
    evidence_map ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¡°ì  í”¼ë“œë°± ë©”ì‹œì§€ë¥¼ ìƒì„±í•œë‹¤.
    LLM ì—†ìŒ. ìˆœìˆ˜ Python í…œí”Œë¦¿.
    requiredê°€ Noneì´ë©´ SLOT_REQUIREDì—ì„œ ê°€ì ¸ì˜¨ë‹¤.
    technical_depthëŠ” plan_generatorê°€ ì„¤ì •í•œ requiredë¥¼ ì¸ìë¡œ ì „ë‹¬í•œë‹¤.
    """
    if required is None:
        required = SLOT_REQUIRED.get(slot, list(evidence_map.keys()))

    confirmed = [k for k in required if evidence_map.get(k)]
    missing = [k for k in required if not evidence_map.get(k)]

    if not confirmed:
        return ""  # ì•„ì§ ì•„ë¬´ê²ƒë„ í™•ì¸ë˜ì§€ ì•Šì•˜ìœ¼ë©´ í”¼ë“œë°± ì—†ìŒ (ì²« ë‹µë³€ í›„ í‘œì‹œ ì•ˆ í•¨)

    confirmed_labels = [EVIDENCE_LABELS.get(k, k) for k in confirmed]
    missing_labels = [EVIDENCE_LABELS.get(k, k) for k in missing]

    confirmed_str = "Â·".join(confirmed_labels)

    if not missing:
        return f"{confirmed_str}ê¹Œì§€ ì˜ ì „ë‹¬í•´ì£¼ì…¨ìŠµë‹ˆë‹¤."

    missing_str = "ì™€ ".join(missing_labels)
    return f"{confirmed_str}ì€ í™•ì¸ëìŠµë‹ˆë‹¤. {missing_str}ë„ ì¡°ê¸ˆ ë” ë§ì”€í•´ì£¼ì‹œê² ì–´ìš”?"
```

**Coach í”¼ë“œë°± ì˜ˆì‹œ:**

| evidence_map ìƒíƒœ | ìƒì„±ë˜ëŠ” í”¼ë“œë°± |
|------------------|----------------|
| role=True, action=True, result=False | "ì—­í• Â·í–‰ë™ì€ í™•ì¸ëìŠµë‹ˆë‹¤. ê²°ê³¼ë„ ì¡°ê¸ˆ ë” ë§ì”€í•´ì£¼ì‹œê² ì–´ìš”?" |
| role=True, action=False, result=False | "ì—­í• ì€ í™•ì¸ëìŠµë‹ˆë‹¤. í–‰ë™ì™€ ê²°ê³¼ë„ ì¡°ê¸ˆ ë” ë§ì”€í•´ì£¼ì‹œê² ì–´ìš”?" |
| role=True, action=True, result=True | "ì—­í• Â·í–‰ë™Â·ê²°ê³¼ê¹Œì§€ ì˜ ì „ë‹¬í•´ì£¼ì…¨ìŠµë‹ˆë‹¤." |
| confirmed ì—†ìŒ | "" (ë¹ˆ ë¬¸ìì—´ â€” í‘œì‹œ ì•ˆ í•¨) |

> Coach í”¼ë“œë°±ì€ ë‹¤ìŒ í„´ ì§ˆë¬¸ **ì•ì—** í‘œì‹œëœë‹¤. (SSE type: `"coach_feedback"`)
> ì²« ë‹µë³€ í›„ confirmedê°€ ì—†ìœ¼ë©´ ë¹ˆ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ë©° í”„ë¡ íŠ¸ì—ì„œ í‘œì‹œí•˜ì§€ ì•ŠëŠ”ë‹¤.

---

### L3 â€” Planner (ì •ë³´ íšë“ ì „ëµê°€)

íŒŒì¼: `backend/core/services/interview/planner.py`

```
ì…ë ¥:
  - ë¶€ì¡±í•œ evidence ëª©ë¡ (missing required evidence)
  - ì´ì „ intent ê¸°ë¡ (question_historyì˜ intent ëª©ë¡)

ì¶œë ¥:
  - ì§ˆë¬¸ ì˜ë„(Intent) â€” ìì—°ì–´ ë¬¸ìì—´
```

**ì—­í• : ë¬´ì—‡ì„ ì•Œì•„ë‚´ì•¼ í•˜ëŠ”ì§€ ê²°ì •í•œë‹¤.**

> âš ï¸ PlannerëŠ” LLMì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ìˆœìˆ˜ Python rulesë¡œ ë™ì‘í•œë‹¤.
> PlannerëŠ” ì§ˆë¬¸ì„ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤. Intent(ì˜ë„)ë§Œ ê²°ì •í•œë‹¤.

**Evidence â†’ Intent ë³€í™˜ ê·œì¹™ (lookup table):**

| ë¶€ì¡± ì •ë³´ | ì§ˆë¬¸ ì˜ë„ |
|----------|----------|
| `action` | í–‰ë™ íšŒìƒ ìœ ë„ |
| `result` | ê²°ê³¼ ë³€í™” í™•ì¸ |
| `reflection` | ë°°ìš´ ì  íƒìƒ‰ |
| `role` | ì±…ì„ ë²”ìœ„ í™•ì¸ |
| `conflict` | ìƒí™© ë°°ê²½ í™•ì¸ |
| `action` + `result` | ìƒí™© ì „ê°œ í™•ì¸ |
| `concept` | ê°œë… ì´í•´ í™•ì¸ |
| `application` | ì‹¤ì œ ì ìš© ê²½í—˜ í™•ì¸ |
| `tradeoff` | ê¸°ìˆ ì  íŒë‹¨ ê·¼ê±° í™•ì¸ |
| `situation` | ë¬¸ì œ ìƒí™© ì„¤ëª… ìš”ì²­ |
| `analysis` | ë¬¸ì œ ì›ì¸ ë¶„ì„ í™•ì¸ |
| `approach` | í•´ê²° ì ‘ê·¼ë²• í™•ì¸ |

**ë°˜ë³µ ë°©ì§€ (Python rule):** `question_history`ì˜ intent ëª©ë¡ê³¼ ë¹„êµ, ë™ì¼ intentëŠ” ë³€í˜•ëœ í‘œí˜„ìœ¼ë¡œ ëŒ€ì²´.

```python
# planner.py â€” LLM ì—†ìŒ, ìˆœìˆ˜ Python
INTENT_MAP = {
    frozenset(["action"]): "í–‰ë™ íšŒìƒ ìœ ë„",
    frozenset(["result"]): "ê²°ê³¼ ë³€í™” í™•ì¸",
    frozenset(["reflection"]): "ë°°ìš´ ì  íƒìƒ‰",
    frozenset(["role"]): "ì±…ì„ ë²”ìœ„ í™•ì¸",
    frozenset(["action", "result"]): "ìƒí™© ì „ê°œ í™•ì¸",
    frozenset(["concept"]): "ê°œë… ì´í•´ í™•ì¸",
    frozenset(["application"]): "ì‹¤ì œ ì ìš© ê²½í—˜ í™•ì¸",
    frozenset(["tradeoff"]): "ê¸°ìˆ ì  íŒë‹¨ ê·¼ê±° í™•ì¸",
}

def decide_intent(missing: list, question_history: list) -> dict:
    key = frozenset(missing[:2])
    intent = INTENT_MAP.get(key, "êµ¬ì²´ì  ì„¤ëª… ìš”ì²­")

    # ë°˜ë³µ ë°©ì§€: ê°™ì€ intentê°€ ì§ì „ í„´ì— ì‚¬ìš©ëìœ¼ë©´ ë³€í˜•
    past_intents = [h.get("intent") for h in question_history[-3:]]
    if intent in past_intents:
        intent = intent + " (ë‹¤ë¥¸ ê°ë„)"

    return {"missing": missing, "intent": intent}
```

### L4 â€” Interviewer (ëŒ€í™” ìƒì„±ê¸° + ë§íˆ¬ ë³´ì • í†µí•©)

íŒŒì¼: `backend/core/services/interview/interviewer.py`

```
ì…ë ¥:
  - intent (L3 ì¶œë ¥)
  - humanizer_context (L5 Humanizerê°€ ì¡°ë¦½í•œ ì»¨í…ìŠ¤íŠ¸)

ì¶œë ¥: ìì—°ìŠ¤ëŸ¬ìš´ ë©´ì ‘ê´€ ë§íˆ¬ì˜ ì§ˆë¬¸ (str)
```

**ì—­í• : intentë¥¼ ë°›ì•„ ìì—°ìŠ¤ëŸ¬ìš´ ë©´ì ‘ê´€ ì§ˆë¬¸ì„ ìƒì„±í•œë‹¤.**
**L4ì™€ L5ëŠ” LLM í˜¸ì¶œ 1ë²ˆìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤. L5 Humanizerì˜ ê·œì¹™ì€ ì´ í”„ë¡¬í”„íŠ¸ì— í†µí•©ëœë‹¤.**

**ì ˆëŒ€ ê¸ˆì§€: ì§ì ‘ evidence ìš”êµ¬**

| ë‚˜ìœ ì˜ˆ âŒ | ì¢‹ì€ ì˜ˆ âœ… |
|------------|-----------|
| "ê²°ê³¼ë¥¼ ë§í•´ì£¼ì„¸ìš”" | "ê·¸ ì´í›„ íŒ€ ë¶„ìœ„ê¸°ê°€ ì–´ë–»ê²Œ ë°”ë€Œì—ˆë‚˜ìš”?" |
| "í–‰ë™ì„ ì„¤ëª…í•˜ì„¸ìš”" | "ê·¸ ìƒí™©ì—ì„œ ì–´ë–»ê²Œ ëŒ€ì‘í•˜ì…¨ë‚˜ìš”?" |
| "ì—­í• ì´ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?" | "ê·¸ í”„ë¡œì íŠ¸ì—ì„œ ì£¼ë¡œ ì–´ë–¤ ë¶€ë¶„ì„ ë§¡ìœ¼ì…¨ë‚˜ìš”?" |

```python
# Interviewer í”„ë¡¬í”„íŠ¸ (L4 + L5 í†µí•©)
"""
ë‹¹ì‹ ì€ ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´ ë©´ì ‘ê´€ì´ë‹¤.

[ë©´ì ‘ ë§¥ë½]
í˜„ì¬ ì—­ëŸ‰ ìŠ¬ë¡¯: {slot}
ì§ˆë¬¸ ì˜ë„: {intent}
ìŠ¬ë¡¯ ì „í™˜ ì—¬ë¶€: {is_slot_transition}
ë™ì¼ ìŠ¬ë¡¯ ì‹œë„ íšŸìˆ˜: {attempt_count}

[ê·œì¹™]
1. ì§§ì€ ë°˜ì‘êµ¬ë¡œ ì‹œì‘í•˜ë¼ (ì´í•´ëìŠµë‹ˆë‹¤ / ë„¤ / ë§ì”€ ì˜ ë“¤ì—ˆìŠµë‹ˆë‹¤)
2. ìŠ¬ë¡¯ ì „í™˜ ì‹œ ìì—°ìŠ¤ëŸ¬ìš´ ë¸Œë¦¿ì§€ ë¬¸ì¥ì„ ì¶”ê°€í•˜ë¼
   ì˜ˆ: "ì´ ê²½í—˜ë§Œ ë´ë„ ì¼í•˜ëŠ” ë°©ì‹ì´ ë³´ì´ë„¤ìš”. ì´ë²ˆì—ëŠ”..."
3. ë™ì¼ ìŠ¬ë¡¯ 2íšŒ ì´ìƒ ì‹œë„ ì‹œ ë„ì…ë¶€ë¥¼ ë³€í˜•í•˜ë¼
   ì˜ˆ: "ì¡°ê¸ˆ ë” êµ¬ì²´ì ìœ¼ë¡œ ë§ì”€í•´ ì£¼ì‹¤ ìˆ˜ ìˆì„ê¹Œìš”?"
4. evidence ë‹¨ì–´(conflict, action, result ë“±)ë¥¼ ì§ì ‘ ì–¸ê¸‰í•˜ì§€ ë§ˆë¼
5. ì§ˆë¬¸ì€ ë°˜ë“œì‹œ í•˜ë‚˜ì—¬ì•¼ í•œë‹¤ (ë³µìˆ˜ ì§ˆë¬¸ ê¸ˆì§€)
6. ì§ì„¤ì  í‘œí˜„ì„ ë¶€ë“œëŸ½ê²Œ ì™„í™”í•˜ë¼
"""
```

### L5 â€” Humanizer (ì»¨í…ìŠ¤íŠ¸ ì¡°ë¦½ ìœ í‹¸)

íŒŒì¼: `backend/core/services/interview/humanizer.py`

```
ì…ë ¥: session ìƒíƒœ ì •ë³´
ì¶œë ¥: humanizer_context dict (L4 í”„ë¡¬í”„íŠ¸ì— ì£¼ì…ë  ì»¨í…ìŠ¤íŠ¸)
```

**ì—­í• : LLM ì—†ìŒ. L4 Interviewerì— ì „ë‹¬í•  ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¡°ë¦½í•˜ëŠ” ìœ í‹¸ í•¨ìˆ˜ë‹¤.**

```python
# humanizer.py â€” LLM ì—†ìŒ, ì»¨í…ìŠ¤íŠ¸ ì¡°ë¦½ë§Œ
def build_context(session) -> dict:
    """
    L4 Interviewer í”„ë¡¬í”„íŠ¸ì— ì£¼ì…í•  ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¡°ë¦½í•œë‹¤.
    LLM í˜¸ì¶œ ì—†ìŒ.
    """
    current_slot_state = session.slot_states.get(session.current_slot, {})
    return {
        "slot": session.current_slot,
        "is_slot_transition": session.just_moved_slot,  # ë°©ê¸ˆ ìŠ¬ë¡¯ ì´ë™í–ˆëŠ”ì§€
        "attempt_count": current_slot_state.get("attempt_count", 1),
    }
```

---

## 5. ëŒ€í™” ì§„í–‰ ì•Œê³ ë¦¬ì¦˜ (í•œ í„´ ë£¨í”„)

```
[ì‚¬ìš©ì ë‹µë³€ ì…ë ¥]
        â†“
[L1 Analyst]   â†’ evidence boolean map ì¶”ì¶œ (LLM)
        â†“
[L2 Engine]    â†’ ìŠ¬ë¡¯ ìƒíƒœ ê°±ì‹  + engine_action ê²°ì • (ìˆœìˆ˜ Python)
        â†“
    engine_action == "finish"    â†’ [ì¢…ë£Œ ë¡œì§ â†’ feedback_generator â†’ SSE]
    engine_action == "move_slot" â†’ [ë‹¤ìŒ ìŠ¬ë¡¯ìœ¼ë¡œ ì´ë™ í›„ ì•„ë˜ ê³„ì†]
    engine_action == "continue"  â†’ ì•„ë˜ ê³„ì†
        â†“
[Coach]        â†’ evidence_map ê¸°ë°˜ êµ¬ì¡°ì  í”¼ë“œë°± ìƒì„± (LLM ì—†ìŒ, í…œí”Œë¦¿)
               â†’ coach_feedback (str) â€” SSEë¡œ ë¨¼ì € ì „ì†¡
        â†“
[L2 Engine]    â†’ ë‹¤ìŒ ëª©í‘œ evidence ê²°ì • (missing required evidence)
        â†“
[L3 Planner]   â†’ intent ìƒì„± (ìˆœìˆ˜ Python rules)
        â†“
[L5 Humanizer] â†’ L4 Interviewerì— ì „ë‹¬í•  ì»¨í…ìŠ¤íŠ¸ ì¡°ë¦½ (LLM ì—†ìŒ)
        â†“
[L4 Interviewer] â†’ ìì—°ì–´ ì§ˆë¬¸ ìƒì„± (LLM 1ë²ˆ)
        â†“
[ì¶œë ¥ â†’ SSE ìŠ¤íŠ¸ë¦¬ë°]
  1. type: "coach_feedback" â€” Coach í”¼ë“œë°± (ë¹„ì–´ìˆìœ¼ë©´ ì „ì†¡ ì•ˆ í•¨)
  2. type: "question"       â€” ë©´ì ‘ê´€ ì§ˆë¬¸ (í† í° ìŠ¤íŠ¸ë¦¬ë°)
  3. type: "meta"           â€” ìŠ¬ë¡¯/ìƒíƒœ ë©”íƒ€ ì •ë³´
```

**ê° ë‹¨ê³„ëŠ” ë°˜ë“œì‹œ ì´ ìˆœì„œë¥¼ ë”°ë¥¸ë‹¤. ìˆœì„œ ë³€ê²½ ê¸ˆì§€.**
**Coach â†’ Humanizer â†’ Interviewer ìˆœì„œ ì£¼ì˜: Humanizerê°€ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì¡°ë¦½í•˜ê³  Interviewerê°€ LLM í˜¸ì¶œí•œë‹¤.**

---

## 6. ì—­ëŸ‰ ìŠ¬ë¡¯ ì •ì˜

ë©´ì ‘ì—ì„œ í‰ê°€í•˜ëŠ” ì—­ëŸ‰ ìŠ¬ë¡¯ ëª©ë¡ê³¼ ê° ìŠ¬ë¡¯ì˜ evidence:

| ìŠ¬ë¡¯ | í•µì‹¬ Evidence (required) | ë³´ì¡° Evidence (optional) | CLEAR ê¸°ì¤€ |
|------|--------------------------|--------------------------|-----------|
| `collaboration` | role, action, result | conflict, reflection | í•µì‹¬ 3ê°œ ì „ë¶€ í™•ì¸ |
| `technical_depth` | (ë™ì  â€” ì•„ë˜ ì°¸ê³ ) | (ë™ì ) | í•µì‹¬ ì „ë¶€ í™•ì¸ |
| `problem_solving` | situation, analysis, approach | result, learning | í•µì‹¬ 3ê°œ ì „ë¶€ í™•ì¸ |
| `motivation` | reason, alignment | research, aspiration | í•µì‹¬ 2ê°œ ì „ë¶€ í™•ì¸ |
| `growth` | challenge, effort, change | reflection | í•µì‹¬ 3ê°œ ì „ë¶€ í™•ì¸ |

**ë³´ì¡° evidence ê·œì¹™:**
- ë³´ì¡° evidence(optional)ëŠ” CLEAR íŒë‹¨ì— í¬í•¨í•˜ì§€ ì•ŠëŠ”ë‹¤
- ë³´ì¡° evidence í™•ì¸ ì—¬ë¶€ëŠ” ìµœì¢… í”¼ë“œë°±ì—ì„œë§Œ ë°˜ì˜í•œë‹¤
- "conflict ì—†ëŠ” í˜‘ì—…"ì€ ì¶©ë¶„íˆ ê°€ëŠ¥í•˜ë‹¤. role + action + resultë§Œ í™•ì¸ë˜ë©´ CLEAR

**technical_depth evidence â€” ë™ì  ìƒì„±:**

`technical_depth` ìŠ¬ë¡¯ì˜ evidence í•­ëª©ì€ ì±„ìš©ê³µê³  ê¸°ìˆ  ìŠ¤íƒì— ë”°ë¼ `plan_generator.py`ê°€ **ë™ì ìœ¼ë¡œ ê²°ì •**í•œë‹¤.

| ì˜ˆì‹œ í† í”½ | ë™ì  ìƒì„± required evidence |
|-----------|----------------------------|
| Python ë¹„ë™ê¸° | asyncio_ê°œë…, ì‹¤ì œ_ì‚¬ìš©_ê²½í—˜, ë™ê¸°ë°©ì‹ê³¼_ì°¨ì´, í•œê³„_ì¸ì‹ |
| ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ìŠ¤ | ì¸ë±ìŠ¤_ê°œë…, ì ìš©_ê²½í—˜, ì„±ëŠ¥_ë¹„êµ, ì„ íƒ_ê¸°ì¤€ |
| REST API ì„¤ê³„ | ìì›_ì„¤ê³„, ìƒíƒœì½”ë“œ_í™œìš©, ì¸ì¦ë°©ì‹, ë²„ì €ë‹_ê²½í—˜ |

> `concept / application / tradeoff`ì²˜ëŸ¼ ë²”ìš© evidence ë‹¨ì–´ë¥¼ ì“°ì§€ ì•ŠëŠ”ë‹¤.
> í•´ë‹¹ ê¸°ìˆ ì— ë§ëŠ” êµ¬ì²´ì  evidence í‚¤ë¥¼ plan_generatorê°€ ìƒì„±í•œë‹¤.
> Coachì™€ Engineì€ plan_generatorê°€ ì„¤ì •í•œ required ëª©ë¡ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•œë‹¤.

ì±„ìš©ê³µê³  ê¸°ë°˜ìœ¼ë¡œ ìŠ¬ë¡¯ ì„ íƒ ë° ìˆœì„œë¥¼ `plan_generator.py`ê°€ ê²°ì •í•œë‹¤.

---

## 7. ë©´ì ‘ ê³„íš ìƒì„± (plan_generator.py)

### 7-1. ì…ë ¥

```python
def generate_plan(job_posting: SavedJobPosting, user_weakness: dict) -> dict:
    """
    ì±„ìš©ê³µê³  + ì·¨ì•½ì  ë°ì´í„° â†’ ë©´ì ‘ ìŠ¬ë¡¯ ìˆœì„œ + ê° ìŠ¬ë¡¯ì˜ ì²« ì§ˆë¬¸ ì˜ë„ ê²°ì •
    """
```

LLM ì…ë ¥:
- `company_name`, `position`
- `required_skills`, `preferred_skills`
- `job_responsibilities`, `required_qualifications`
- `experience_range`
- `user_weakness` (weak_topics, weak_categories)

### 7-2. ì¶œë ¥

```python
{
    "slots": [
        {
            "slot": "motivation",
            "topic": "ì§€ì› ë™ê¸°",
            "max_attempts": 2,
            "first_intent": "ì§€ì› ì´ìœ ì™€ íšŒì‚¬ ë¦¬ì„œì¹˜ ì—¬ë¶€ í™•ì¸"
            # required evidence ì—†ìŒ â€” SLOT_REQUIRED["motivation"] ì‚¬ìš©
        },
        {
            "slot": "technical_depth",
            "topic": "Python ë¹„ë™ê¸°",
            "max_attempts": 3,
            "first_intent": "ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹ ì´í•´ í™•ì¸",
            "source": "required_skills + weak_topic",
            # technical_depthëŠ” í† í”½ì— ë”°ë¼ evidenceë¥¼ ë™ì ìœ¼ë¡œ ì •ì˜
            "required_evidence": [
                "asyncio_ê°œë…",       # asyncio/await ë™ì‘ ë°©ì‹ ì´í•´
                "ì‹¤ì œ_ì‚¬ìš©_ê²½í—˜",     # í”„ë¡œì íŠ¸ì—ì„œ ì§ì ‘ ì‚¬ìš©í•´ë´¤ëŠ”ì§€
                "ë™ê¸°ë°©ì‹ê³¼_ì°¨ì´",    # blocking vs non-blocking ì´í•´
                "í•œê³„_ì¸ì‹"           # ì–¸ì œ ë¹„ë™ê¸°ê°€ ì˜¤íˆë ¤ ë¶ˆë¦¬í•œì§€
            ],
            "optional_evidence": [
                "ì´ë²¤íŠ¸ë£¨í”„_ì´í•´",    # ë‚´ë¶€ ë™ì‘ ì›ë¦¬
                "ë¼ì´ë¸ŒëŸ¬ë¦¬_ì„ íƒ"     # aiohttp, httpx ë“± ì„ íƒ ê²½í—˜
            ]
        },
        {
            "slot": "collaboration",
            "topic": "íŒ€ í˜‘ì—… ê²½í—˜",
            "max_attempts": 3,
            "first_intent": "ê°ˆë“± ìƒí™©ê³¼ ëŒ€ì‘ ë°©ì‹ í™•ì¸"
            # required evidence ì—†ìŒ â€” SLOT_REQUIRED["collaboration"] ì‚¬ìš©
        }
    ],
    "total_slots": 5,
    "weakness_boost": ["ë¹„ë™ê¸°", "ì˜ˆì™¸ì²˜ë¦¬"]
}
```

**technical_depth evidence ìƒì„± ê·œì¹™:**
- `required_evidence`: í•´ë‹¹ ê¸°ìˆ ì„ ì‹¤ì œë¡œ ì´í•´í•˜ê³  ì‚¬ìš©í•´ë´¤ëŠ”ì§€ íŒë‹¨í•˜ëŠ” í•µì‹¬ í•­ëª© (3~4ê°œ)
- `optional_evidence`: ì‹¬í™” ì´í•´ë¥¼ ë³´ì—¬ì£¼ëŠ” í•­ëª© (ìµœì¢… í”¼ë“œë°±ì—ë§Œ ë°˜ì˜)
- evidence í‚¤ëŠ” í•œê¸€ë„ í—ˆìš© (Analyst í”„ë¡¬í”„íŠ¸ì— ê·¸ëŒ€ë¡œ ì „ë‹¬ë˜ë¯€ë¡œ)
- Coachì™€ Engineì€ ì´ `required_evidence` ëª©ë¡ì„ ì§ì ‘ ì‚¬ìš©í•œë‹¤

### 7-3. ì·¨ì•½ì  ë¶„ì„ (weakness_analyzer.py)

`gym_user_solved_problem` í…Œì´ë¸”ì—ì„œ í•´ë‹¹ ì‚¬ìš©ìì˜ ë°ì´í„°ë¥¼ ì¡°íšŒí•œë‹¤:

```python
def analyze_user_weakness(user: UserProfile) -> dict:
    """
    ì¡°íšŒ ê¸°ì¤€:
      - ë‚®ì€ ì ìˆ˜ (score < 60): í•´ë‹¹ ë¬¸ì œì˜ ì£¼ì œê°€ ì·¨ì•½
      - ë‹¤ìˆ˜ ì‹œë„ (attempt_number >= 3): ë°˜ë³µ ì‹¤íŒ¨í•œ ì˜ì—­
      - is_perfect == Falseì¸ ë¬¸ì œë“¤ì˜ ê³µí†µ ì£¼ì œ

    ë°˜í™˜:
    {
        "weak_topics": ["ì˜ˆì™¸ì²˜ë¦¬", "ë¹„ë™ê¸°"],
        "weak_categories": ["ê¸°ìˆ ", "ë¬¸ì œí•´ê²°"],
        "strength_topics": ["ê¸°ë³¸ ë¬¸ë²•", "í•¨ìˆ˜ ì„¤ê³„"]
    }
    """
```

---

## 8. Job Planner ìˆ˜ì •ì‚¬í•­

### 8-1. íŒŒì‹± ì‹œ ìë™ ì €ì¥

`backend/core/views/job_planner/job_planner_view.py`ì˜ `JobPlannerParseView.post()` ìˆ˜ì •:

íŒŒì‹± ì„±ê³µ í›„ ê²°ê³¼ë¥¼ `SavedJobPosting`ì— ì €ì¥í•œë‹¤.
ê¸°ì¡´ ë°˜í™˜ êµ¬ì¡°ëŠ” ìœ ì§€í•˜ë˜, `saved_posting_id`ë¥¼ ì‘ë‹µì— ì¶”ê°€í•œë‹¤.

```python
# ë™ì¼ ì‚¬ìš©ì + ë™ì¼ URL â†’ ê¸°ì¡´ ë°ì´í„° ì—…ë°ì´íŠ¸ (ì¤‘ë³µ ì €ì¥ ì•ˆ í•¨)
if source == 'url' and source_url and user:
    saved, created = SavedJobPosting.objects.update_or_create(
        user=user, source_url=source_url, defaults=defaults
    )
else:
    saved = SavedJobPosting.objects.create(user=user, source_url=source_url, **defaults)

response_data['saved_posting_id'] = saved.id
```

---

## 9. API ì—”ë“œí¬ì¸íŠ¸

íŒŒì¼ ìœ„ì¹˜ (í´ë” êµ¬ì¡° ì¤€ìˆ˜):
```
backend/core/views/interview/
  __init__.py
  job_posting_view.py        # ì±„ìš©ê³µê³  CRUD (GET/POST/DELETE)
  session_view.py            # ë©´ì ‘ ì„¸ì…˜ ìƒì„±/ì¡°íšŒ (GET/POST)
  answer_view.py             # ë‹µë³€ ì œì¶œ + SSE ìŠ¤íŠ¸ë¦¬ë° (POST)
```

### 9-1. ì±„ìš©ê³µê³ 

```
GET  /api/core/interview/job-postings/          â†’ ì €ì¥ëœ ì±„ìš©ê³µê³  ëª©ë¡
POST /api/core/interview/job-postings/          â†’ ìƒˆ ê³µê³  íŒŒì‹± ë° ì €ì¥
DELETE /api/core/interview/job-postings/<id>/   â†’ ê³µê³  ì‚­ì œ
```

### 9-2. ë©´ì ‘ ì„¸ì…˜

```
POST /api/core/interview/sessions/
  â†’ body: { "job_posting_id": 1 }
  â†’ ë‚´ë¶€ ì²˜ë¦¬:
    1. SavedJobPosting ë¡œë“œ
    2. weakness_analyzerë¡œ ì‚¬ìš©ì ì·¨ì•½ì  ë¶„ì„
    3. plan_generatorë¡œ interview_plan ìƒì„± (ìŠ¬ë¡¯ ìˆœì„œ ê²°ì •)
    4. InterviewSession ìƒì„±, slot_states ì´ˆê¸°í™”
    5. L3 Planner â†’ L4 Interviewer â†’ L5 Humanizerë¡œ ì²« ì§ˆë¬¸ ìƒì„±
    6. ì²« ì§ˆë¬¸ ë°˜í™˜
  â†’ response: { "session_id": 1, "first_question": "..." }

POST /api/core/interview/sessions/<id>/answer/
  â†’ body: { "answer": "ì‚¬ìš©ì ë‹µë³€ í…ìŠ¤íŠ¸" }
  â†’ í•œ í„´ ë£¨í”„ ì‹¤í–‰ (L1 â†’ L2 â†’ Coach â†’ L3 â†’ L5 â†’ L4)
  â†’ SSE ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ (ìˆœì„œëŒ€ë¡œ ì „ì†¡):

    # 1. Coach í”¼ë“œë°± (ë¹„ì–´ìˆìœ¼ë©´ ì „ì†¡ ì•ˆ í•¨)
    data: {"type": "coach_feedback", "text": "ì—­í• Â·í–‰ë™ì€ í™•ì¸ëìŠµë‹ˆë‹¤. ê²°ê³¼ë„ ì¡°ê¸ˆ ë” ë§ì”€í•´ì£¼ì‹œê² ì–´ìš”?"}

    # 2. ë‹¤ìŒ ì§ˆë¬¸ (í† í° ìŠ¤íŠ¸ë¦¬ë°)
    data: {"type": "question", "token": "ë„¤"}
    data: {"type": "question", "token": ", ë§ì”€ ì˜ ë“¤ì—ˆìŠµë‹ˆë‹¤"}
    data: {"type": "question", "token": ". ê·¸ ì´í›„ íŒ€ ë¶„ìœ„ê¸°ëŠ” ì–´ë–»ê²Œ ë°”ë€Œì—ˆë‚˜ìš”?"}

    # 3. ë©”íƒ€ ì •ë³´ (í”„ë¡ íŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸ìš©)
    data: {"type": "meta", "slot": "collaboration", "slot_status": "PARTIAL", "action": "continue", "turn": 3}

    data: [DONE]

  â†’ ìŠ¬ë¡¯ ì´ë™ ì‹œ (action == "move_slot"):
    data: {"type": "coach_feedback", "text": "ì—­í• Â·í–‰ë™Â·ê²°ê³¼ê¹Œì§€ ì˜ ì „ë‹¬í•´ì£¼ì…¨ìŠµë‹ˆë‹¤."}
    data: {"type": "question", "token": "ì´ ê²½í—˜ë§Œ ë´ë„ ì¼í•˜ëŠ” ë°©ì‹ì´ ë³´ì´ë„¤ìš”. ..."}
    data: {"type": "meta", "slot": "technical_depth", "slot_status": "UNKNOWN", "action": "move_slot", "turn": 4}
    data: [DONE]

  â†’ ë©´ì ‘ ì¢…ë£Œ ì‹œ (action == "finish"):
    data: {"type": "final_feedback", "feedback": { ...InterviewFeedback ì „ì²´... }}
    data: [DONE]

**í”„ë¡ íŠ¸ ì²˜ë¦¬ ê·œì¹™:**
- `coach_feedback` type ìˆ˜ì‹  ì‹œ: í”¼ë“œë°± ë§í’ì„  UIì— í‘œì‹œ (ì§ˆë¬¸ê³¼ ë³„ë„ ì˜ì—­)
- `coach_feedback.text`ê°€ ë¹ˆ ë¬¸ìì—´ì´ë©´ í‘œì‹œí•˜ì§€ ì•ŠìŒ
- `question` tokenë“¤ì€ ëˆ„ì í•˜ì—¬ ë©´ì ‘ê´€ ë§í’ì„ ì— ìŠ¤íŠ¸ë¦¬ë° í‘œì‹œ
- `meta` ìˆ˜ì‹  ì‹œ: ìƒë‹¨ ìŠ¬ë¡¯ ìƒíƒœ UI ì—…ë°ì´íŠ¸

GET /api/core/interview/sessions/<id>/         â†’ ì„¸ì…˜ ìƒíƒœ ì¡°íšŒ
GET /api/core/interview/sessions/              â†’ ê³¼ê±° ì„¸ì…˜ ëª©ë¡
```

### 9-3. SSE ìŠ¤íŠ¸ë¦¬ë° êµ¬í˜„ íŒ¨í„´

ê¸°ì¡´ `BugHuntInterviewView`ì™€ ë™ì¼í•œ íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤:

```python
from django.http import StreamingHttpResponse

def _stream_response(self, content_generator):
    def event_stream():
        try:
            for chunk_type, token in content_generator:
                payload = json.dumps({"type": chunk_type, "token": token}, ensure_ascii=False)
                yield f"data: {payload}\n\n"
            yield "data: [DONE]\n\n"
        except Exception as e:
            payload = json.dumps({"error": str(e)}, ensure_ascii=False)
            yield f"data: {payload}\n\n"
            yield "data: [DONE]\n\n"

    response = StreamingHttpResponse(event_stream(), content_type='text/event-stream; charset=utf-8')
    response['Cache-Control'] = 'no-cache'
    response['X-Accel-Buffering'] = 'no'
    return response
```

### 9-4. URL ë“±ë¡

`backend/core/urls.py`ì— ë“±ë¡ëœ ì—”ë“œí¬ì¸íŠ¸:

```python
# ë©´ì ‘ ì„¸ì…˜
path('interview/job-postings/', InterviewJobPostingView.as_view()),
path('interview/job-postings/<int:pk>/', InterviewJobPostingDetailView.as_view()),
path('interview/sessions/', InterviewSessionView.as_view()),
path('interview/sessions/<int:pk>/', InterviewSessionDetailView.as_view()),
path('interview/sessions/<int:pk>/answer/', InterviewAnswerView.as_view()),
path('interview/sessions/<int:pk>/vision/', InterviewVisionView.as_view()),  # ë¹„ì „ ë¶„ì„ ì €ì¥

# Phase 2 (ì´ë¯¸ êµ¬í˜„ë¨)
path('stt/transcribe/', STTTranscribeView.as_view()),    # ìŒì„±â†’í…ìŠ¤íŠ¸
path('tts/synthesize/', TTSSynthesizeView.as_view()),    # í…ìŠ¤íŠ¸â†’ìŒì„±
path('video/generate/', AvatarVideoView.as_view()),      # ì•„ë°”íƒ€ ì˜ìƒ (GPU ì„œë¹„ìŠ¤)
```

---

## 10. ì¢…ë£Œ ë¡œì§

### ë©´ì ‘ ì¢…ë£Œ ì¡°ê±´

| ì¡°ê±´ | ì²˜ë¦¬ |
|------|------|
| ëª¨ë“  ìŠ¬ë¡¯ CLEAR | ì¦‰ì‹œ ì¢…ë£Œ |
| ìµœëŒ€ í„´(`max_turns`) ë„ë‹¬ | ê°•ì œ ì¢…ë£Œ |
| ì‚¬ìš©ì ì¢…ë£Œ ìš”ì²­ | ì¦‰ì‹œ ì¢…ë£Œ |

### UNCERTAIN ì²˜ë¦¬

ë™ì¼ ìŠ¬ë¡¯ì—ì„œ 2íšŒ ì‹œë„í–ˆìœ¼ë‚˜ evidence ìˆ˜ì§‘ ì‹¤íŒ¨:
- ì´ëŠ” **ëŠ¥ë ¥ ë¶€ì¡±ì´ ì•„ë‹ˆë‹¤**
- Engineì´ í•´ë‹¹ ìŠ¬ë¡¯ì„ `UNCERTAIN`ìœ¼ë¡œ ë§ˆí‚¹ í›„ ë‹¤ìŒ ìŠ¬ë¡¯ìœ¼ë¡œ ì´ë™
- ìµœì¢… í”¼ë“œë°±ì— "ì¶©ë¶„íˆ í™•ì¸ë˜ì§€ ì•Šì€ ì—­ëŸ‰"ìœ¼ë¡œ ê¸°ë¡

### ìµœì¢… í”¼ë“œë°± (feedback_generator.py)

ë©´ì ‘ ì¢…ë£Œ ì‹œ `slot_states`ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìµœì¢… í”¼ë“œë°± ìƒì„±.

**ì ìˆ˜ë‚˜ í•©ê²©/ë¶ˆí•©ê²© íŒì • ê¸ˆì§€. ì¦ê±° ê¸°ë°˜ ì •ì„±ì  í”¼ë“œë°±ë§Œ ì œê³µ.**

```
ì…ë ¥: session.slot_states (ì „ì²´ ìŠ¬ë¡¯ì˜ ìµœì¢… evidence ìƒíƒœ)
ì¶œë ¥: InterviewFeedback ëª¨ë¸ ì €ì¥

ì¶œë ¥ í˜•ì‹:
{
  "slot_summary": {
    "collaboration": {
      "final_status": "CLEAR",
      "confirmed_evidence": ["conflict", "role", "action", "result"],
      "missing_evidence": ["reflection"],
      "summary": "ê°ˆë“± ìƒí™©ì—ì„œ ë³¸ì¸ì˜ ì—­í• ê³¼ í–‰ë™ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…í•¨. ë°°ìš´ ì  ì–¸ê¸‰ì´ ì—†ì—ˆìŒ."
    }
  },
  "overall_summary": "ì „ë°˜ì ì¸ ì´í‰ (2-3 ë¬¸ë‹¨)",
  "top_strengths": ["í˜‘ì—… ì‹œ ë³¸ì¸ ì—­í•  ëª…í™•íˆ ì¸ì‹", "ë¬¸ì œ í•´ê²° ê³¼ì • ë…¼ë¦¬ì  ì„œìˆ "],
  "top_improvements": ["ê²°ê³¼ ì´í›„ íšŒê³ (reflection) ë¶€ì¡±", "ê¸°ìˆ ì  íŠ¸ë ˆì´ë“œì˜¤í”„ ì„¤ëª… í•„ìš”"],
  "recommendation": "ì´ í¬ì§€ì…˜ ì¤€ë¹„ë¥¼ ìœ„í•œ í•™ìŠµ ì¶”ì²œ ë°©í–¥"
}
```

---

## 11. í”„ë¡ íŠ¸ì—”ë“œ

### 11-1. ë¼ìš°í„°

```javascript
{
  path: '/interview',
  name: 'MockInterview',
  component: MockInterview
}
```

**ë³„ë„ ì „ìš© í˜ì´ì§€**ë¡œ ë§Œë“ ë‹¤. ê¸°ì¡´ practice ë¼ìš°íŠ¸ë¥¼ ì¬ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.

### 11-2. í˜ì´ì§€ êµ¬ì¡°

```
frontend/src/features/interview/
  MockInterview.vue              # ë©”ì¸ í˜ì´ì§€ (ì „ìš© ë ˆì´ì•„ì›ƒ)
  tts.js                         # TTS ìœ í‹¸ë¦¬í‹°
  components/
    JobPostingSelector.vue       # ì €ì¥ëœ ê¸°ì—… ì„ íƒ + ìƒˆ URL ì…ë ¥
    InterviewChat.vue            # ë©´ì ‘ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤
    InterviewFeedback.vue        # ìµœì¢… í”¼ë“œë°± í‘œì‹œ
    InterviewHistory.vue         # ë©´ì ‘ ê¸°ë¡ ì¡°íšŒ
    AudioRecorder.vue            # ìŒì„± ë…¹ìŒ (Phase 2 â€” êµ¬í˜„ë¨)
    WebcamDisplay.vue            # ì›¹ìº  í™”ë©´ í‘œì‹œ (Phase 2 â€” êµ¬í˜„ë¨)
    VisionAnalysisReport.vue     # ë¹„ì „ ë¶„ì„ ë³´ê³ ì„œ (Phase 2 â€” êµ¬í˜„ë¨)
  composables/
    useInterview.js              # ë©´ì ‘ ì„¸ì…˜ ìƒíƒœ ê´€ë¦¬ (SSE ì²˜ë¦¬ í¬í•¨)
  api/
    interviewApi.js              # API í˜¸ì¶œ í•¨ìˆ˜
```

### 11-3. í™”ë©´ íë¦„

```
[1ë‹¨ê³„: ê¸°ì—… ì„ íƒ]
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ëª¨ì˜ë©´ì ‘ ì¤€ë¹„                    â”‚
  â”‚                                 â”‚
  â”‚  ğŸ“‹ ì €ì¥ëœ ê¸°ì—… ëª©ë¡              â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
  â”‚  â”‚ ì‚¼ì„±SDS - ë°±ì—”ë“œ ê°œë°œì   â”‚    â”‚
  â”‚  â”‚ ì¹´ì¹´ì˜¤ - AI ì—”ì§€ë‹ˆì–´      â”‚    â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
  â”‚                                 â”‚
  â”‚  ë˜ëŠ” ìƒˆ ê³µê³  URL ì…ë ¥:          â”‚
  â”‚  [________________________]     â”‚
  â”‚  [íŒŒì‹±í•˜ê¸°]                      â”‚
  â”‚                                 â”‚
  â”‚           [ë©´ì ‘ ì‹œì‘]            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[2ë‹¨ê³„: ë©´ì ‘ ì§„í–‰]
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ëª¨ì˜ë©´ì ‘ - ì‚¼ì„±SDS ë°±ì—”ë“œ ê°œë°œì  â”‚
  â”‚  í„´ 3 | ì—­ëŸ‰: í˜‘ì—… (PARTIAL)     â”‚
  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                 â”‚
  â”‚  ğŸ¤– ë©´ì ‘ê´€:                      â”‚
  â”‚  "ë„¤, ë§ì”€ ì˜ ë“¤ì—ˆìŠµë‹ˆë‹¤.         â”‚
  â”‚   ê·¸ ìƒí™©ì—ì„œ ë³¸ì¸ì€ ì‹¤ì œë¡œ        â”‚
  â”‚   ì–´ë–¤ í–‰ë™ì„ í•˜ì…¨ë‚˜ìš”?"          â”‚
  â”‚                                 â”‚
  â”‚  [ë‹µë³€ ì…ë ¥ ì˜ì—­]                â”‚
  â”‚  [________________________]     â”‚
  â”‚  [ë‹µë³€ ì œì¶œ]                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[3ë‹¨ê³„: ìµœì¢… í”¼ë“œë°±]
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ë©´ì ‘ ê²°ê³¼ í”¼ë“œë°±                 â”‚
  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                                 â”‚
  â”‚  ğŸ“Š ì´í‰                        â”‚
  â”‚  "ê°ˆë“± ìƒí™©ì—ì„œ ë³¸ì¸ì˜ ì—­í• ê³¼..."   â”‚
  â”‚                                 â”‚
  â”‚  âœ… í™•ì¸ëœ ì—­ëŸ‰                  â”‚
  â”‚  â€¢ í˜‘ì—… - ê°ˆë“± ìƒí™©Â·ì—­í• Â·í–‰ë™ í™•ì¸ â”‚
  â”‚  â€¢ ë¬¸ì œí•´ê²° - ìƒí™©Â·ë¶„ì„Â·ì ‘ê·¼ í™•ì¸  â”‚
  â”‚                                 â”‚
  â”‚  âš ï¸ ë³´ì™„ì´ í•„ìš”í•œ ë¶€ë¶„           â”‚
  â”‚  â€¢ í˜‘ì—… - ë°°ìš´ ì (reflection) ë¯¸í™•ì¸â”‚
  â”‚  â€¢ ê¸°ìˆ  - íŠ¸ë ˆì´ë“œì˜¤í”„ ì„¤ëª… í•„ìš”  â”‚
  â”‚                                 â”‚
  â”‚  [ìƒˆ ë©´ì ‘ ì‹œì‘] [ë©´ì ‘ ëª©ë¡ìœ¼ë¡œ]   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 12. ê¸ˆì§€ ì‚¬í•­

### LLM ê¶Œí•œ ê²½ê³„ ê¸ˆì§€ (í•µì‹¬)

1. **LLMì´ "ì¢‹ë‹¤/ë‚˜ì˜ë‹¤" íŒë‹¨í•˜ëŠ” ê²ƒ ê¸ˆì§€** â€” LLMì€ ì¡´ì¬ ì—¬ë¶€(True/False)ë§Œ ë°˜í™˜í•œë‹¤
2. **LLMì´ ìŠ¬ë¡¯ ìƒíƒœ(UNKNOWN/PARTIAL/CLEAR)ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒ ê¸ˆì§€** â€” Engineë§Œ ìƒíƒœë¥¼ ë³€ê²½í•œë‹¤
3. **LLMì´ ë‹¤ìŒ ìŠ¬ë¡¯ì„ ê²°ì •í•˜ëŠ” ê²ƒ ê¸ˆì§€** â€” Engineì´ coverage ê·œì¹™ìœ¼ë¡œ ê²°ì •í•œë‹¤
4. **LLMì´ ì¢…ë£Œ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ê²ƒ ê¸ˆì§€** â€” Engineì´ ì¢…ë£Œ ì¡°ê±´ì„ íŒë‹¨í•œë‹¤
5. **LLMì´ í”¼ë“œë°± íƒ€ì´ë°ì„ ê²°ì •í•˜ëŠ” ê²ƒ ê¸ˆì§€** â€” íƒ€ì´ë°ì€ Engineì˜ ê³ ì • ê·œì¹™

### ê±°ì§“ ì¶”ìƒ íŒë‹¨ ê¸ˆì§€

6. "í˜‘ì—… ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤" ê°™ì€ ì¶”ìƒ íŒë‹¨ ê¸ˆì§€
7. ì¦ê±° ì—†ëŠ” ì •ì„± í‰ê°€ ê¸ˆì§€
8. í•©ê²©/ë¶ˆí•©ê²© ì ìˆ˜ ë¶€ì—¬ ê¸ˆì§€

### êµ¬ì¡° ì›ì¹™

ì´ ì‹œìŠ¤í…œì€ ììœ  ëŒ€í™”í˜• ì±—ë´‡ì´ ì•„ë‹ˆë‹¤.
**ê²°ì •ë¡ ì  ì¸í„°ë·° ì—”ì§„ + ëŒ€í™” ì¸í„°í˜ì´ìŠ¤ë‹¤.**

L1~L5 ê° ë ˆì´ì–´ëŠ” ë‹¨ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°€ì§„ë‹¤. í•©ì¹˜ì§€ ë§ˆë¼.

---

## 13. êµ¬í˜„ ìˆœì„œ

```
Step 1: DB ì •ë¦¬ (ë¶ˆí•„ìš” í…Œì´ë¸” ì‚­ì œ)
Step 2: ëª¨ë¸ ìƒì„± (interview_model.py + migration)
Step 3: Job Planner ìˆ˜ì • (íŒŒì‹± ê²°ê³¼ ì €ì¥)
Step 4: weakness_analyzer.py (ì·¨ì•½ì  ë¶„ì„)
Step 5: plan_generator.py (ìŠ¬ë¡¯ ìˆœì„œ + ì²« intent ìƒì„±)
Step 6: analyst.py (L1 â€” evidence boolean map ì¶”ì¶œ)
Step 7: state_engine.py (L2 â€” ìƒíƒœ ì „ì´ + action ê²°ì •)
Step 8: planner.py (L3 â€” intent ê²°ì •)
Step 9: interviewer.py (L4 â€” ìì—°ì–´ ì§ˆë¬¸ ìƒì„±)
Step 10: humanizer.py (L5 â€” ë§íˆ¬ ë³´ì •)
Step 11: feedback_generator.py (ìµœì¢… í”¼ë“œë°±)
Step 12: answer_view.py (API ì—”ë“œí¬ì¸íŠ¸ + SSE)
Step 13: URL ë“±ë¡
Step 14: í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
Step 15: í†µí•© í…ŒìŠ¤íŠ¸
```

---

## 14. ì™œ ì´ êµ¬ì¡°ê°€ í•„ìš”í•œê°€

| ì¼ë°˜ LLM ë©´ì ‘ | ì´ ì‹œìŠ¤í…œ |
|--------------|---------|
| ë§¤ë²ˆ ê¸¸ì´ ë‹¤ë¦„ | í•­ìƒ ë¹„ìŠ·í•œ ê¸¸ì´ |
| ê¸°ì¤€ ë‹¤ë¦„ | ì¦ê±° ê¸°ë°˜ìœ¼ë¡œ ì¼ê´€ëœ ê¸°ì¤€ |
| í‰ê°€ ë¶ˆê°€ëŠ¥ | ì„¤ëª… ê°€ëŠ¥í•œ í‰ê°€ |
| LLM í¸í–¥ ê°œì… | ê²°ì •ë¡ ì  ê·œì¹™ìœ¼ë¡œë§Œ íŒì • |

**ì´ê±´ ì±—ë´‡ì´ ì•„ë‹ˆë¼ ê²°ì •ë¡ ì  ì¸í„°ë·° ì—”ì§„ + ëŒ€í™” ì¸í„°í˜ì´ìŠ¤ë‹¤.**

---

# PHASE 2: ìŒì„±/í™”ìƒ ì „í™˜ â€” êµ¬í˜„ ì™„ë£Œ

Phase 1ì˜ ë©´ì ‘ ì—”ì§„ ì½”ë“œëŠ” ë³€ê²½ ì—†ì´ ìœ ì§€ëœë‹¤.
ìŒì„±/í™”ìƒ ëª¨ë“ˆì€ ë©´ì ‘ ì—”ì§„ ì•ë‹¨ì— ë…ë¦½ì ìœ¼ë¡œ ì¶”ê°€ë˜ì—ˆë‹¤.

## ì•„í‚¤í…ì²˜

```
[Phase 1 - í…ìŠ¤íŠ¸]
í‚¤ë³´ë“œ ì…ë ¥ â†’ "í…ìŠ¤íŠ¸" â†’ ë©´ì ‘ ì—”ì§„ (L1 â†’ L2 â†’ L3 â†’ L4 â†’ L5)

[Phase 2 - ìŒì„±/í™”ìƒ â€” êµ¬í˜„ë¨]
ë§ˆì´í¬ â†’ VAD(ìŒì„±ê°ì§€) â†’ STT(ìŒì„±â†’í…ìŠ¤íŠ¸) â†’ "í…ìŠ¤íŠ¸" â†’ ë©´ì ‘ ì—”ì§„ (ë³€ê²½ ì—†ìŒ)
ì›¹ìº  â†’ VisionAnalysis â†’ ë¹„ì „ ë¶„ì„ ê²°ê³¼ ì €ì¥ â†’ VisionAnalysisReport.vue í‘œì‹œ
TTS â†’ ë©´ì ‘ê´€ ì§ˆë¬¸ì„ ìŒì„±ìœ¼ë¡œ í•©ì„±
ì•„ë°”íƒ€ â†’ MuseTalk ë¦½ì‹±í¬ ì˜ìƒ ìƒì„± (GPU í•„ìš”)
```

## êµ¬í˜„ëœ íŒŒì¼

### ë°±ì—”ë“œ

```
backend/core/views/interview/
  stt_view.py           # STTTranscribeView â€” ìŒì„±â†’í…ìŠ¤íŠ¸
  tts_view.py           # TTSSynthesizeView â€” í…ìŠ¤íŠ¸â†’ìŒì„±
  video_view.py         # AvatarVideoView â€” ì•„ë°”íƒ€ ë¦½ì‹±í¬ ì˜ìƒ (MuseTalk)
  session_view.py       # InterviewVisionView í¬í•¨ â€” ë¹„ì „ ë¶„ì„ ê²°ê³¼ ì €ì¥

backend/core/services/interview/
  musetalk_service.py   # MuseTalk ì•„ë°”íƒ€ ì˜ìƒ ìƒì„± ì„œë¹„ìŠ¤
```

### STT API

```
POST /api/core/stt/transcribe/
  â†’ ìŒì„± ë°ì´í„°(WAV/WebM) â†’ í…ìŠ¤íŠ¸ ë³€í™˜
  â†’ Content-Type: multipart/form-data
  â†’ body: { "audio": <binary>, "session_id": 1 }
  â†’ response: { "transcript": "ì‚¬ìš©ìê°€ ë§í•œ ë‚´ìš©", "confidence": 0.95 }
```

### TTS API

```
POST /api/core/tts/synthesize/
  â†’ í…ìŠ¤íŠ¸ â†’ ìŒì„± í•©ì„±
```

### ë¹„ì „ ë¶„ì„ ì €ì¥ API

```
POST /api/core/interview/sessions/<id>/vision/
  â†’ ë¹„ì „ ë¶„ì„ ê²°ê³¼ë¥¼ InterviewFeedback.vision_analysisì— ì €ì¥
```

### ì•„ë°”íƒ€ ì˜ìƒ API

```
POST /api/core/video/generate/
  â†’ AvatarVideoView â€” MuseTalk ë¦½ì‹±í¬ ì˜ìƒ ìƒì„±
  â†’ GPU ì „ìš© ì„œë¹„ìŠ¤ (docker compose --profile gpu up)
```

### ê¸°ìˆ  ìŠ¤íƒ

```
STT: silero-vad + faster-whisper
  - silero-vad: PyTorch ê¸°ë°˜ ìŒì„± í™œë™ ê°ì§€
  - faster-whisper: CTranslate2 ê¸°ë°˜ Whisper ìµœì í™” ë²„ì „

TTS: í…ìŠ¤íŠ¸â†’ìŒì„± í•©ì„± (tts_view.py)

ì•„ë°”íƒ€: MuseTalk
  - AI ë¦½ì‹±í¬ ì˜ìƒ ìƒì„± (GPU í•„ìš”)
  - Dockerfile.musetalk, docker-compose musetalk ì„œë¹„ìŠ¤
  - ëª¨ë¸ íŒŒì¼: backend/GFPGANv1.4.pth, backend/models/
```

### í”„ë¡ íŠ¸ì—”ë“œ

```
frontend/src/features/interview/
  tts.js                         # TTS ìœ í‹¸ë¦¬í‹°
  components/
    AudioRecorder.vue            # ë§ˆì´í¬ ë…¹ìŒ + VAD ì—°ë™
    WebcamDisplay.vue            # ì›¹ìº  í™”ë©´ í‘œì‹œ
    VisionAnalysisReport.vue     # ë¹„ì „ ë¶„ì„ ë³´ê³ ì„œ
```

### Phase 2 íë¦„

```
1. ì‚¬ìš©ìê°€ "ë‹µë³€ ì‹œì‘" ë²„íŠ¼ í´ë¦­
2. ë§ˆì´í¬ + ì›¹ìº  í™œì„±í™”
3. ìŒì„± ë…¹ìŒ ì‹œì‘ (MediaRecorder / AudioRecorder.vue)
4. ì¹¨ë¬µ ê°ì§€ ë˜ëŠ” "ë‹µë³€ ì™„ë£Œ" ë²„íŠ¼ìœ¼ë¡œ ë…¹ìŒ ì¢…ë£Œ
5. ìŒì„± íŒŒì¼ â†’ /api/core/stt/transcribe/ ì „ì†¡
6. í…ìŠ¤íŠ¸ ìˆ˜ì‹  â†’ ì‚¬ìš©ìì—ê²Œ í™•ì¸ í‘œì‹œ
7. í™•ì¸ í›„ â†’ /api/core/interview/sessions/<id>/answer/ ì „ë‹¬ (Phase 1ê³¼ ë™ì¼)
8. ë©´ì ‘ ì¢…ë£Œ í›„ â†’ ë¹„ì „ ë¶„ì„ ê²°ê³¼ /api/core/interview/sessions/<id>/vision/ ì €ì¥
```

### ë©´ì ‘ ì—”ì§„(Phase 1) ìˆ˜ì • ì‚¬í•­

**ì—†ìŒ.**

`answer_view.py`ì˜ answer ì—”ë“œí¬ì¸íŠ¸ëŠ” `{"answer": "í…ìŠ¤íŠ¸"}`ë¥¼ ë°›ëŠ”ë‹¤.
í…ìŠ¤íŠ¸ ì¶œì²˜(í‚¤ë³´ë“œ/STT)ì— ë¬´ê´€í•˜ê²Œ ë©´ì ‘ ì—”ì§„ì€ ë™ì¼í•˜ê²Œ ì²˜ë¦¬í•œë‹¤.

---

## êµ¬í˜„ ëª©í‘œ

ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ êµ¬ì¡°ì™€ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë©´ì ‘ íë¦„ì„ ì œê³µí•˜ëŠ” ê²ƒ.
ìì—°ìŠ¤ëŸ¬ìš´ ëŒ€í™”ë³´ë‹¤ **ì¼ê´€ëœ í‰ê°€**ê°€ ë” ì¤‘ìš”í•˜ë‹¤.
ì ìˆ˜ë³´ë‹¤ **ì„¤ëª… ê°€ëŠ¥í•œ ì¦ê±° ê¸°ë°˜ í”¼ë“œë°±**ì´ ë” ì¤‘ìš”í•˜ë‹¤.
