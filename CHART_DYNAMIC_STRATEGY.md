# ë™ì  ì°¨íŠ¸ ë°ì´í„° ì„ íƒ ì „ëµ

**ëª©í‘œ:** ì‚¬ìš©ì ìš”ì²­ì— ë”°ë¼ **Xì¶•, Yì¶• ë°ì´í„°ë¥¼ ë™ì ìœ¼ë¡œ ê²°ì •**

---

## ğŸ¯ í•µì‹¬ ê°œë…

### ë¬¸ì œì  (í˜„ì¬)
```
ì‚¬ìš©ì ìš”ì²­ì´ ë­ë“ :
  â”œâ”€ "ë‚´ ì•½ì  ë¶„ì„í•´ì¤˜"
  â”œâ”€ "ìµœê·¼ ì„±ì  ë³´ì—¬ì¤˜"
  â””â”€ "ì„±ì¥ì„ ë³´ì—¬ì¤˜"

ëª¨ë‘ ë™ì¼í•˜ê²Œ:
  Xì¶•: [Pseudo Practice, Debug Practice, System Practice]
  Yì¶•: í‰ê·  ì ìˆ˜ (ê³ ì •)
  + ì™„ë£Œìœ¨ (ê³ ì •)

â†’ ì§€ë£¨í•˜ê³  ë°˜ë³µì 
```

### í•´ê²°ì±… (ë™ì )
```
ì‚¬ìš©ì ìš”ì²­ ë¶„ì„
  â†“
í•„ìš”í•œ ë°ì´í„° ìœ í˜• ê²°ì •
  â†“
í•´ë‹¹ ë°ì´í„° ì¶”ì¶œ
  â†“
ì ì ˆí•œ ì°¨íŠ¸ í˜•ì‹ ì„ íƒ

â†’ ë‹¤ì–‘í•˜ê³  ì •ë³´ê°€ í’ë¶€í•¨
```

---

## ğŸ“Š ë°ì´í„° ìœ í˜• ë§¤íŠ¸ë¦­ìŠ¤

### 1. ë‹¨ìœ„ë³„(Unit-wise) ë°ì´í„°
```python
Xì¶•: [Unit 1, Unit 2, Unit 3, ...]
Yì¶• ì˜µì…˜:
  - "í‰ê·  ì ìˆ˜" (í˜„ì¬ ì‚¬ìš©)
  - "ìµœê³  ì ìˆ˜"
  - "ì™„ë£Œìœ¨" (í˜„ì¬ ì‚¬ìš©)
  - "í’€ì´ ìˆ˜"
  - "ì„±ì¥ë¥ " (ìµœê·¼ vs ì´ˆê¸°)

í‚¤ì›Œë“œ: "ìœ ë‹›ë³„", "ë‹¨ìœ„ë³„", "ì „ì²´", "í˜„í™©"
```

### 2. ë©”íŠ¸ë¦­ë³„(Metric-wise) ë°ì´í„°
```python
Xì¶•: [design, edgeCase, abstraction, security, ...]
Yì¶•: ê° ë©”íŠ¸ë¦­ì˜ í‰ê·  ì ìˆ˜

í‚¤ì›Œë“œ: "ë©”íŠ¸ë¦­", "ì•½ì ", "ë¶„ì„", "ê°•ì ", "ëŠ¥ë ¥"

ì°¨íŠ¸ í˜•ì‹: Radar (ë¶„í¬ ì‹œê°í™”)
```

### 3. ì‹œê°„ìˆœ(Chronological) ë°ì´í„°
```python
Xì¶•: [ë¬¸ì œ1, ë¬¸ì œ2, ë¬¸ì œ3, ...] (ë˜ëŠ” ë‚ ì§œ)
Yì¶• ì˜µì…˜:
  - "ì ìˆ˜" (ê° í’€ì´ì˜ ì ìˆ˜)
  - "ëˆ„ì  ì ìˆ˜"
  - "ì„±ê³µë¥ "

í‚¤ì›Œë“œ: "ìµœê·¼", "ì¶”ì´", "ì„±ì¥", "ë³€í™”", "ì‹œê°„"

ì°¨íŠ¸ í˜•ì‹: Line (ì¶”ì„¸ ì‹œê°í™”)
```

### 4. ë¬¸ì œë³„(Problem-wise) ë°ì´í„°
```python
Xì¶•: [ë¬¸ì œ1, ë¬¸ì œ2, ë¬¸ì œ3, ...]
Yì¶• ì˜µì…˜:
  - "í˜„ì¬ ì ìˆ˜" (ìµœê³  ì ìˆ˜)
  - "ì‹œë„ íšŸìˆ˜"
  - "í’€ì´ ì¼ìˆ˜"
  - "ê°œì„ ë„" (ìµœì´ˆ vs í˜„ì¬)

í‚¤ì›Œë“œ: "ë¬¸ì œ", "í’€ì´", "ì‹¤íŒ¨", "ë„ì „"

ì°¨íŠ¸ í˜•ì‹: Bar (ë¹„êµ) ë˜ëŠ” Table (ìƒì„¸)
```

---

## ğŸ” ìš”ì²­ â†’ ë°ì´í„° ë§¤í•‘

### Intent A (ë°ì´í„° ì¡°íšŒí˜•)

#### ìš”ì²­ 1: "ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜"
```
í‚¤ì›Œë“œ: "ì•½ì ", "ë¶„ì„"
â†’ ë°ì´í„° ìœ í˜•: ë©”íŠ¸ë¦­ë³„ (Metric-wise)

Xì¶•: [design, edgeCase, abstraction, consistency, ...]
Yì¶•: ê° ë©”íŠ¸ë¦­ì˜ í‰ê·  ì ìˆ˜ (70ì  ë¯¸ë§Œë§Œ ê°•ì¡°)

ì°¨íŠ¸: Radar (ì•½ì  ë¶„í¬)
+ ë³´ì¡°: Table (ë©”íŠ¸ë¦­ë³„ ìƒì„¸ ì ìˆ˜ & ìƒ˜í”Œ)
```

#### ìš”ì²­ 2: "ë‚´ê°€ ì–´ë””ì„œ ì£¼ë¡œ ì‹¤íŒ¨í•˜ë‹ˆ?"
```
í‚¤ì›Œë“œ: "ì‹¤íŒ¨", "ì•½ì ", "ë¶€ì¡±"
â†’ ë°ì´í„° ìœ í˜•: ë©”íŠ¸ë¦­ë³„ (Metric-wise)

Xì¶•: [ì•½ì ë“¤ì„ ì ìˆ˜ìˆœ ì •ë ¬]
Yì¶•: ì ìˆ˜ (ë‚®ì€ ê²ƒë¶€í„°)

ì°¨íŠ¸: Bar (ì•½ì  ê°•ë„ ì‹œê°í™”)
ìƒ‰ìƒ: ë¹¨ê°• (ë‚®ì„ìˆ˜ë¡)
```

#### ìš”ì²­ 3: "ìµœê·¼ ì„±ì ì„ ë³´ì—¬ì¤˜"
```
í‚¤ì›Œë“œ: "ìµœê·¼", "ìµœê·¼ ì„±ì ", "ì„±ì "
â†’ ë°ì´í„° ìœ í˜•: ì‹œê°„ìˆœ (Chronological)

Xì¶•: [ìµœê·¼ 5-10ê°œ í’€ì´í•œ ë¬¸ì œ]
Yì¶•: ì ìˆ˜ (ì‹œê°„ìˆœ)

ì°¨íŠ¸: Line (ì„±ì  ì¶”ì´)
+ ë³´ì¡°: Bar (ë¬¸ì œë³„ ì ìˆ˜ ë¹„êµ)
```

#### ìš”ì²­ 4: "ë‚´ê°€ ì–¼ë§ˆë‚˜ ì„±ì¥í–ˆì–´?"
```
í‚¤ì›Œë“œ: "ì„±ì¥", "í–¥ìƒ", "ê°œì„ "
â†’ ë°ì´í„° ìœ í˜•: ì‹œê°„ìˆœ + ëˆ„ì  (Chronological + Cumulative)

Xì¶•: [ì‹œê°„ ì¶• - ì£¼, ì›”]
Yì¶•: ëˆ„ì  ì ìˆ˜ ë˜ëŠ” ì„±ê³µë¥ 

ì°¨íŠ¸: Line (ì„±ì¥ ê³¡ì„ )
ë³´ì¡° ë¼ë²¨: "ì´ˆê¸° vs í˜„ì¬" ë¹„êµ
```

#### ìš”ì²­ 5: "ì „ì²´ í˜„í™©ì„ ë³´ì—¬ì¤˜"
```
í‚¤ì›Œë“œ: "ì „ì²´", "í˜„í™©", "ì–´ë–»ê²Œ"
â†’ ë°ì´í„° ìœ í˜•: ë‹¨ìœ„ë³„ (Unit-wise) - ê¸°ë³¸ê°’

Xì¶•: [Unit 1, Unit 2, Unit 3]
Yì¶•: í‰ê·  ì ìˆ˜ + ì™„ë£Œìœ¨

ì°¨íŠ¸: Bar + Progress (ì¢…í•© í˜„í™©)
```

#### ìš”ì²­ 6: "ìœ ë‹›ë³„ ì„±ì ì„ ë¹„êµí•´ì¤˜"
```
í‚¤ì›Œë“œ: "ë¹„êµ", "ìœ ë‹›ë³„", "ì°¨ì´"
â†’ ë°ì´í„° ìœ í˜•: ë‹¨ìœ„ë³„ (Unit-wise)

Xì¶•: [Unit 1, Unit 2, Unit 3]
Yì¶•: [í‰ê·  ì ìˆ˜, ìµœê³ ì , ì™„ë£Œìœ¨] (ì—¬ëŸ¬ Yì¶•)

ì°¨íŠ¸: Bar (ë‹¤ì¤‘ ë°ì´í„°ì…‹)
ìƒ‰ìƒ: ê° ì§€í‘œë³„ ë‹¤ë¥¸ ìƒ‰
```

---

## ğŸ’¾ ë°ì´í„° ì¶”ì¶œ í•¨ìˆ˜ ì¬ì„¤ê³„

### í˜„ì¬ êµ¬ì¡°
```python
def generate_chart_data_summary(profile, intent_type):
    if intent_type == "A":
        # ì°¨íŠ¸ 1: í‰ê·  ì ìˆ˜ (ê³ ì •)
        # ì°¨íŠ¸ 2: ì™„ë£Œìœ¨ (ê³ ì •)
```

### ë³€ê²½ë  êµ¬ì¡°
```python
def generate_chart_data_summary(profile, intent_type, user_message=""):
    """
    Intent + ì‚¬ìš©ì ë©”ì‹œì§€ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ë™ì  ì„ íƒ
    """
    charts = []
    msg_lower = user_message.lower()

    if intent_type == "A":  # ë°ì´í„° ì¡°íšŒí˜•
        # Step 1: ì‚¬ìš©ìê°€ ë­˜ ì›í•˜ëŠ”ì§€ íŒë‹¨
        data_type = _determine_data_type(msg_lower)

        # Step 2: í•´ë‹¹ ë°ì´í„° ì¶”ì¶œ
        if data_type == "metric":
            chart = _generate_metric_chart(profile)  # Radar
        elif data_type == "chronological":
            chart = _generate_chronological_chart(profile)  # Line
        elif data_type == "problem":
            chart = _generate_problem_chart(profile)  # Bar/Table
        else:
            chart = _generate_unit_chart(profile)  # Bar + Progress (ê¸°ë³¸ê°’)

        if chart:
            charts.append(chart)

    return charts
```

### í•„ìš”í•œ ìƒˆë¡œìš´ í•¨ìˆ˜ë“¤
```python
1. _determine_data_type(message: str) â†’ str
   "ì•½ì ", "ë¶„ì„" â†’ "metric"
   "ìµœê·¼", "ì¶”ì´", "ì„±ì¥" â†’ "chronological"
   "ë¬¸ì œ", "í’€ì´" â†’ "problem"
   ê¸°ë³¸ â†’ "unit"

2. _generate_metric_chart(profile) â†’ dict
   ë©”íŠ¸ë¦­ë³„ ë°ì´í„° ì¶”ì¶œ & Radar ì°¨íŠ¸ ìƒì„±

3. _generate_chronological_chart(profile) â†’ dict
   ìµœê·¼ í’€ì´ ë°ì´í„° ì¶”ì¶œ & Line ì°¨íŠ¸ ìƒì„±

4. _generate_problem_chart(profile) â†’ dict
   ë¬¸ì œë³„ ì„±ì  ì¶”ì¶œ & Bar/Table ìƒì„±

5. _generate_unit_chart(profile) â†’ dict
   ë‹¨ìœ„ë³„ ì„±ì  ì¶”ì¶œ & Bar + Progress (ê¸°ë³¸ê°’)
```

---

## ğŸ”„ íë¦„ë„

```
ì‚¬ìš©ì ë©”ì‹œì§€: "ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜"
  â†“
coach_view.py:
  intent_type = "A" (ë°ì´í„° ì¡°íšŒí˜•)
  user_message = "ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜"
  â†“
  chart_summaries = generate_chart_data_summary(
      profile,
      "A",
      "ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜"  â† ìƒˆë¡œ ì¶”ê°€
  )
  â†“
coach_tools.py - generate_chart_data_summary():
  _determine_data_type("ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜")
    â”œâ”€ "ì•½ì " í‚¤ì›Œë“œ ê°ì§€
    â”œâ”€ "ë¶„ì„" í‚¤ì›Œë“œ ê°ì§€
    â””â”€ â†’ data_type = "metric"
  â†“
  _generate_metric_chart(profile):
    â”œâ”€ tool_get_weak_points(profile, "unit01")
    â”œâ”€ ëª¨ë“  ìœ ë‹›ì˜ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
    â”œâ”€ Xì¶•: [design, edgeCase, abstraction, ...]
    â”œâ”€ Yì¶•: ê° ë©”íŠ¸ë¦­ ì ìˆ˜
    â””â”€ â†’ Radar ì°¨íŠ¸ ë°˜í™˜
  â†“
í”„ë¡ íŠ¸ì—”ë“œ:
  type: "chart_data"
  chart: {
    chart_type: "radar",
    title: "ë©”íŠ¸ë¦­ ë¶„ì„",
    data: {...}
  }
  â†“
ì‚¬ìš©ì: Radar ì°¨íŠ¸ë¡œ ì•½ì  ì‹œê°í™”! ğŸ¯
```

---

## ğŸ“‹ í‚¤ì›Œë“œ ë§¤í•‘ í…Œì´ë¸”

| ë°ì´í„° ìœ í˜• | í‚¤ì›Œë“œ | ì°¨íŠ¸ í˜•ì‹ | Yì¶• |
|------------|--------|---------|-----|
| **metric** | ì•½ì , ë¶„ì„, ëŠ¥ë ¥, ê°•ì , ë©”íŠ¸ë¦­ | Radar | ë©”íŠ¸ë¦­ ì ìˆ˜ |
| **chronological** | ìµœê·¼, ì¶”ì´, ì„±ì¥, í–¥ìƒ, ë³€í™”, ì‹œê°„ | Line | ì ìˆ˜/ëˆ„ì  |
| **problem** | ë¬¸ì œ, í’€ì´, ì‹¤íŒ¨, ë„ì „ | Bar/Table | ë¬¸ì œ ì ìˆ˜ |
| **unit** | ìœ ë‹›, ì „ì²´, í˜„í™©, ë¹„êµ (ê¸°ë³¸ê°’) | Bar+Progress | ì ìˆ˜+ì™„ë£Œìœ¨ |

---

## ğŸ¯ êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **Phase 1 (í•„ìˆ˜):**
   - `_determine_data_type()` êµ¬í˜„
   - `_generate_metric_chart()` êµ¬í˜„ (ì•½ì  ìš”ì²­ ê°€ì¥ ë§ìŒ)
   - coach_view.pyì—ì„œ user_message ì „ë‹¬

2. **Phase 2 (ì¶”ê°€):**
   - `_generate_chronological_chart()` êµ¬í˜„
   - `_generate_problem_chart()` êµ¬í˜„

3. **Phase 3 (ê³ ë„í™”):**
   - í‚¤ì›Œë“œ ê¸°ë°˜ â†’ LLM ê¸°ë°˜ ì˜ë„ ë¶„ì„ìœ¼ë¡œ ì—…ê·¸ë ˆì´ë“œ
   - ë‹¤ì¤‘ ë°ì´í„°ì…‹ ì§€ì› (í•œ ë²ˆì— ì—¬ëŸ¬ ë©”íŠ¸ë¦­ ë¹„êµ)

---

## ğŸ’¡ ì˜ˆìƒ ê²°ê³¼

### Before (í˜„ì¬)
```
ìš”ì²­: "ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜"
ë°˜í™˜:
  â”œâ”€ Bar ì°¨íŠ¸: [Pseudo, Debug, System] - í‰ê· ì ìˆ˜
  â””â”€ Progress: ì™„ë£Œìœ¨

â†’ ëŠë‚Œ: "ì™œ í‰ê· ì ìˆ˜ë¥¼ ë˜ ë³´ì—¬ì¤˜?" ğŸ˜•
```

### After (ê°œì„  í›„)
```
ìš”ì²­: "ë‚´ ì•½ì ì„ ë¶„ì„í•´ì¤˜"
ë°˜í™˜:
  â””â”€ Radar ì°¨íŠ¸: ë©”íŠ¸ë¦­ë³„ ì ìˆ˜ ë¶„í¬
      (design, edgeCase, abstraction, security, ...)

â†’ ëŠë‚Œ: "ì•„, ì´ê²Œ ë‚´ ì•½ì ì´êµ¬ë‚˜!" ğŸ¯
```

---

## ğŸ“ ìˆ˜ì • ì˜ˆì • íŒŒì¼

1. **coach_tools.py**
   - `generate_chart_data_summary(profile, intent_type)`
   - â†’ `generate_chart_data_summary(profile, intent_type, user_message="")`
   - ìƒˆ í•¨ìˆ˜ ì¶”ê°€: `_determine_data_type()`, `_generate_metric_chart()` ë“±

2. **coach_view.py**
   - `generate_chart_data_summary(profile, intent_type)`
   - â†’ `generate_chart_data_summary(profile, intent_type, user_message)`
   - í˜¸ì¶œ ìœ„ì¹˜ 2ê³³ ìˆ˜ì •
