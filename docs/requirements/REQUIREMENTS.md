# 요구 사항 정의서 (Requirements Specification)

**프로젝트 명**: AI-GYM (AI 기반 공학 역량 강화 플랫폼)
**최종 수정일**: 2026-02-15

> 각 항목의 구현 상태: ✅ 구현 완료 | ⏳ 미구현/로드맵

---

## 1. 개요

### 1.1 목적
AI-GYM 시스템의 기능 및 비기능적 요구 사항을 정의합니다. 사용자가 데이터 전처리 및 시스템 아키텍처 설계 등 공학적 개념을 AI의 도움을 받아 학습하고 실습할 수 있는 환경을 제공합니다.

### 1.2 용어 정의
- **Nano Banana**: AI를 활용한 커스텀 아바타 생성 시스템
- **Duck Hint (3P)**: 실습 중 제공되는 AI 기반 힌트 시스템 (Perception, Persistence, Persona)
- **Data Leakage**: 모델 학습 시 테스트 데이터 정보가 유입되는 현상. 의사코드 평가의 핵심 지표

---

## 2. 시스템 아키텍처 및 기술 스택

### 2.1 시스템 구조
Frontend(Vue.js) + Backend(Django) + AI Engine(LLM)으로 구성된 3-Tier 아키텍처

### 2.2 기술 스택
- **Frontend**: Vue.js 3, Vite, Tailwind CSS, Pinia, Axios, Lucide Icons
- **Backend**: Python 3.x, Django REST Framework (DRF)
- **Database**: PostgreSQL, JSONField 활용
- **AI**: OpenAI GPT-4o 및 유사 LLM
- **Infrastructure**: Docker, Docker Compose, GCP

---

## 3. 기능적 요구 사항

### 3.1 사용자 관리 (User Management)

#### 3.1.1 회원가입 및 인증 ✅
- **통합 회원가입**: 이메일 형식 확인 및 중복 체크, 비밀번호 8자 이상 검증, 암호화(PBKDF2) 저장
- **필수 정보 수집**: 성명(`user_name`), 생년월일(`birth_date`), 고유 식별자(`username`)
- **가입 즉시 초기화**: `UserActivity` 레코드 생성 (초기 등급: BRONZE)

#### 3.1.2 소셜 로그인 ⏳
- Google, GitHub OAuth 2.0 간편 가입/로그인 지원

#### 3.1.3 로그인 및 세션 관리 ✅
- **이메일 로그인**: 이메일/비밀번호 기반 인증 및 Django 세션 관리
- **로그아웃**: 세션 종료 및 서버 측 쿠키 삭제
- **상태 유지**: 새로고침 시 세션 확인을 통한 인증 상태 복구

#### 3.1.4 세션 보안 강화 ⏳
- 연속 로그인 실패 시 캡차 노출 또는 계정 일시 잠금
- 동일 계정 다중 기기 접속 제어
- 이메일 기반 비밀번호 초기화 링크 발송
- 최근 사용 비밀번호(직전 3개) 재사용 제한
- 장기 미접속(1년 이상) 계정 자동 휴면 전환

#### 3.1.5 프로필 및 역량 관리 ✅
- **개인화**: 닉네임(`user_nickname`), 아바타(`active_avatar`) 장착/변경
- **기술 역량**: 직무(Job Role), 관심 분야(Interests) 태그 관리
- **활동 통계**: 현재 등급, 누적 포인트, 해결 문제 수 조회 및 5차원 스파이더 차트 제공

### 3.2 아바타 시스템 (Nano Banana) ✅
- **아바타 생성**: LLM 프롬프트 기반 고유 아바타 이미지 생성
- **시드 기반 재생성**: 고유 시드값으로 동일 스타일 유지
- **아바타 장착**: 대표 아바타 설정하여 대시보드/리더보드에 노출

### 3.3 연습 시스템 (Practice System)

#### 3.3.1 의사코드 연습 (Pseudocode Practice) ✅
- **자연어 입력**: 데이터 전처리 과정을 자연어 의사코드로 작성 및 제출
- **5차원 평가**: 설계력, 정합성, 구현력, 예외처리, 추상화 지표 기반 AI 채점
- **힌트 시스템 (Duck Hint)**: 실시간 키워드 감지를 통한 논리적 오류 경고 및 가이드
- **Deep Dive**: 의사코드를 실제 Python 코드로 변환 + 꼬리 질문을 통한 심화 논리 검증

#### 3.3.2 시스템 아키텍처 연습 (Architecture Practice) ✅
- **드래그 앤 드롭 UI**: GCP 주요 컴포넌트를 캔버스에 배치 및 연결
- **아키텍처 평가**: 비용 효율성, 확장성, 보안성 등 AI 분석 평가 리포트
- **Mermaid 코드 생성**: 설계 기반 시각화 코드 자동 생성

### 3.4 게이미피케이션 ✅
- **포인트 시스템**: 연습 완료 시 아케이드 포인트 지급
- **등급 시스템**: 누적 점수에 따른 브론즈~엔지니어 등급 부여
- **리더보드**: 전체 사용자 점수/등급 기준 실시간 순위 표시
- **활동 리포트**: 5차원 오각형 그래프를 통한 역량 분석 리포트

### 3.5 실시간 협업 모드 ⏳
- 실시간 캔버스 공유 (WebSocket/Django Channels)
- 공유 커서 및 프레젠스 (팀원 마우스 위치 실시간 시각화)
- CRDT 알고리즘 기반 동시 편집 충돌 방지
- 실시간 주석 및 피드백 (포스트잇, 펜 도구)
- 고유 룸 코드 기반 협업 세션 관리

### 3.6 어드민/운영 기능 ⏳
- 관리자 대시보드: 전체 사용자 활동 로그 분석 및 유닛별 통계 리포트
- 공지사항 및 푸시 알림: 시스템 점검, 콘텐츠 업데이트 실시간 알림

---

## 4. 비기능적 요구 사항

### 4.1 성능
- **AI 응답 속도**: AI 평가/힌트 생성 시 5초 이내 피드백 (스트리밍 방식 권장) ✅
- **UI 반응성**: 드래그 앤 드롭 및 차트 렌더링 시 지연 없는 UX ✅

### 4.2 보안
- **데이터 보호**: 비밀번호 단방향 암호화(PBKDF2) 저장 및 Django CSRF 보호 ✅
- **API 인증**: Session 기반 보안 인증 적용 ✅

### 4.3 확장성 및 유지보수
- **모듈형 설계**: 새로운 연습 유닛을 JSON 설정만으로 동적 추가 가능한 DB 구조 ✅
- **로그 기록**: 시스템 에러 및 사용자 활동 로그 체계적 기록 ✅
- **인프라 모니터링**: GCP Cloud Logging/Monitoring 활용 검토 ⏳

---

## 5. 데이터베이스 설계 요약

### 주요 테이블
- `gym_practice`: 연습 과정 마스터 (유닛 정보)
- `gym_practice_detail`: 상세 문제 및 설정 데이터 (JSON 형식)
- `gym_user_activity`: 사용자별 총점, 랭킹, 현재 아바타
- `gym_user_solved_problem`: 문제 해결 이력 및 상세 제출 데이터
- `gym_user_avatar`: Nano Banana 아바타 이미지 및 버전 정보
