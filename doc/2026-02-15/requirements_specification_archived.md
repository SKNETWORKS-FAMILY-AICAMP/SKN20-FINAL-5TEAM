# 요구 사항 정의서 (Requirements Specification)

<!-- 
수정일: 2026-02-15
수정내용: 사용자 관리(회원가입, 로그인, 비밀번호, 프로필 상세 절차) 및 실시간 협업 모드 요구 사항 상세화 추가
-->

**프로젝트 명**: AI-GYM (AI 기반 공학 역량 강화 플랫폼)  
**작성일**: 2026-02-15  
**버전**: 1.0  

---

## 1. 개요 (Introduction)

### 1.1 목적
본 문서는 AI-GYM 시스템의 기능 및 비기능적 요구 사항을 상세히 정의하는 것을 목적으로 합니다. 이 시스템은 사용자가 데이터 전처리 및 시스템 아키텍처 설계와 같은 복잡한 공학적 개념을 AI의 도움을 받아 학습하고 실습할 수 있는 환경을 제공합니다.

### 1.2 대상
- 개발 팀: 시스템 구현 및 테스트를 위한 기준 제공
- 프로젝트 이해관계자: 시스템의 범위 및 기능 확인

### 1.3 용어 정의
- **Nano Banana**: AI를 활용하여 사용자의 활동을 시각화하는 커스텀 아바타 생성 시스템.
- **Duck Hint (3P)**: 사용자가 실습 중 막혔을 때 제공되는 AI 기반 힌트 시스템 (Perception, Persistence, Persona).
- **Data Leakage**: 모델 학습 시 테스트 데이터의 정보가 유입되는 현상으로, 본 시스템의 주요 평가 핵심 지표.

---

## 2. 시스템 아키텍처 및 기술 스택

### 2.1 시스템 구조
시스템은 Frontend(Vue.js), Backend(Django), AI Engine(LLM)으로 구성된 3-Tier 아키텍처를 따릅니다.

### 2.2 기술 스택
- **Frontend**: Vue.js 3, Vite, Tailwind CSS, Pinia (상태 관리), Axios, Lucide Icons
- **Backend**: Python 3.x, Django REST Framework (DRF)
- **Database**: PostgreSQL (GCP RDS 예상)
- **AI**: OpenAI GPT-4o 또는 유사 LLM 모델
- **Infrastructure**: Docker, Docker Compose, GCP (Google Cloud Platform)

---

## 3. 기능적 요구 사항 (Functional Requirements)

### 3.1 사용자 관리 (User Management)

#### 3.1.1 회원가입 및 인증 (Enrollment & Authentication)
- **F-1.1.1 통합 회원가입**:
    - **이메일 인증**: 가입 시 유효한 이메일 형식 확인 및 중복 체크 수행.
    - **비밀번호 정책**: 최소 8자 이상, 영문/숫자/특수문자 조합 권장 및 암호화(PBKDF2/Argon2) 저장.
    - **필수 개인정보**: 사용자 성명(`user_name`), 생년월일(`birth_date`), 고유 식별자(`username`) 수집.
- **F-1.1.2 소셜 로그인 연동**:
    - Google, GitHub 등 외부 인증 서비스(OAuth 2.0)를 통한 간편 가입 지원.
    - 소셜 가입 시 이메일 기반으로 시스템 내 고유 `username` 자동 생성 및 할당.
- **F-1.1.3 공학자 상세 프로필 설정 (User Detail)**:
    - **역할(Role) 정의**: ML 엔지니어, 데이터 사이언티스트, 백엔드 개발자 등 관심 직무를 다중 선택(JSONField 저장).
    - **관심 분야(Interests)**: MLOps, Deep Learning, 데이터 시각화 등 학습하고 싶은 세부 기술 태그 설정.
    - **개발 실무 경험**: 실무자/학생 여부를 구분하여 맞춤형 연습 난이도 조절 기초 데이터로 활용.
- **F-1.1.4 가입 즉시 보상 및 초기화**:
    - 가입 완료와 동시에 `UserActivity` 레코드 생성 (초기 등급: BRONZE).
    - 환영 포인트(Welcome Points) 지급 및 튜토리얼 안내 제공.

#### 3.1.2 로그인 및 세션 관리 (Login & Session Management)
- **F-1.2.1 인증 수단**:
    - **통합 로그인**: 이메일 또는 `username`과 비밀번호를 이용한 보안 로그인.
    - **소셜 로그인**: 등록된 Google/GitHub 계정을 통한 SSO(Single Sign-On) 로그인 지원.
- **F-1.2.2 세션 및 보안**:
    - **지속성 관리**: '로그인 상태 유지' 옵션 제공 및 JWT(JSON Web Token) 또는 보안 쿠키 기반 세션 관리.
    - **보안 강화**: 연속 로그인 실패 시 캡차(CAPTCHA) 노출 또는 계정 일시 잠금 기능.
    - **중복 로그인 제어**: 동일 계정의 다중 기기 접속 허용 여부 설정 및 기존 세션 로그아웃 기능.
- **F-1.2.3 계정 복구 및 비밀번호 변경**:
    - **비밀번호 재설정**: 이메일 인증을 통한 비밀번호 초기화 링크 발송 및 변경 프로세스.
    - **본인 확인**: 중요 정보 변경 시 이메일 또는 기존 비밀번호 재인증 절차.

#### 3.1.3 비밀번호 관리 정책 (Password Management Policy)
- **F-1.3.1 보안 저장 원칙**:
    - **단방향 암호화**: 비밀번호는 반드시 솔트(Salt)를 포함한 PBKDF2, Argon2 등 현대적인 해시 알고리즘을 사용해 단방향 암호화하여 저장(복호화 불가).
    - **전송 단계 암호화**: 가입/로그인 시 비밀번호는 반드시 HTTPS(TLS) 보안 프로토콜을 통해 암호화된 상태로 전송.
- **F-1.3.2 비밀번호 구성 규칙 (Complexity)**:
    - 영문 대소문자, 숫자, 특수문자 중 3종류 이상 조합하여 8자 이상(또는 2종류 조합 시 10자 이상) 설정 강제.
    - 아이디와 동일하거나 연속된 숫자/문자 등 추측하기 쉬운 패턴 사용 제한.
- **F-1.3.3 변경 및 보호**:
    - **정기 변경 안내**: 주기적인 비밀번호 변경 권고 메시지 노출 (예: 6개월 단위).
    - **이력 관리**: 최근에 사용했던 비밀번호(예: 직전 3개)로의 재변경 제한.
    - **비밀번호 유효기간**: 보안 위험 감지 시 강제 비밀번호 변경 유도 조치 가능.

#### 3.1.4 프로필 및 역량 관리 (Profile & Competency)
- **F-1.4.1 개인화 설정 (Personalization)**:
    - **ID/별칭**: 고유 `username` 확인 및 노출용 `user_nickname` 설정.
    - **비주얼**: `active_avatar`(Nano Banana 생성 이미지) 장착 및 변경 관리.
- **F-1.4.2 기술 역량 정보 (Expertise)**:
    - **직무/관심사**: 희망 역할(Job Role) 및 데이터/AI 상세 분야(Interests) 태그 관리.
    - **보유 기술**: 실제 활용 가능한 프로그래밍 언어 및 프레임워크 수준 기록.
- **F-1.4.3 활동 통계 (Activity Stats)**:
    - **성과 지표**: 현재 등급(`current_rank`), 누적 포인트(`total_points`), 해결한 문제 수 조회.
    - **역량 분석**: 5차원 평가 데이터를 기반으로 한 스파이더 차트(능력치) 요약 제공.
- **F-1.4.4 소셜 및 공유 설정 (Social & Privacy)**:
    - **외부 링크**: GitHub, LinkedIn, 개인 포트폴리오 등 외부 소셜 채널 연동.
    - **공개 범위**: 프로필 및 학습 이력의 타인 공개 여부(Public/Private) 설정.

### 3.2 아바타 시스템 (Avatar System - Nano Banana)
- **F-2.1 아바타 생성**: LLM 프롬프트를 기반으로 고유한 아바타 이미지 생성.
- **F-2.2 버전 관리**: 아바타의 진화/수정 이력을 보존하고 선택 가능.
- **F-2.3 시드 기반 재생성**: 고유 시드값을 사용하여 동일한 스타일의 아바타 유지.

### 3.3 연습 시스템 (Practice System)

#### 3.3.1 데이터 전처리 의사코드 연습 (Pseudocode Practice)
- **F-3.1.1 자연어 입력**: 사용자가 데이터 전처리 과정을 자연어 의사코드로 입력.
- **F-3.1.2 5차원 평가 루브릭**: 설계력, 정합성, 구현력, 예외처리, 추상화 지표로 평가.
- **F-3.1.3 실시간 힌트 (Duck Hint)**: 입력 중 특정 키워드(split, fit 등) 감지 시 논리적 오류 경고 및 힌트 제공.
- **F-3.1.4 Deep Dive**: 입력한 의사코드를 실제 Python 코드로 변환하고, 꼬리 질문을 통해 심화 논리 검증.

#### 3.3.2 시스템 아키텍처 연습 (Architecture Practice)
- **F-3.2.1 드래그 앤 드롭 UI**: GCP 주요 컴포넌트(GCE, GCS, Cloud SQL 등)를 캔버스에 배치 및 연결.
- **F-3.2.2 아키텍처 평가**: 설계된 구조의 비용 효율성, 확장성, 보안성 등을 AI가 평가.
- **F-3.2.3 Mermaid 코드 생성**: 설계를 기반으로 Mermaid 스타일의 시각화 코드 자동 생성.

### 3.4 게이미피케이션 및 커뮤니티
- **F-4.1 포인트 시스템**: 연습 완료 및 퀴즈 정답 시 '아케이드 포인트' 지급.
- **F-4.2 리더보드**: 전체 사용자 중 점수/등급 기준 실시간 순위 표시.
- **F-4.3 활동 리포트**: 5차원 오각형 그래프를 통한 개인별 역량 분석 리포트 제공.

### 3.5 실시간 동료 협업 설계 모드 (Real-time Collaboration)
- **F-5.1 실시간 캔버스 공유**: WebSocket(Django Channels)을 이용해 여러 사용자가 동일한 아키텍처 캔버스에서 실시간으로 협업 가능.
- **F-5.2 공유 커서 및 프레젠스**: 다른 팀원의 마우스 위치와 접속 상태를 실시간으로 시각화.
- **F-5.3 동시 편집 충돌 방지**: CRDT(Conflict-free Replicated Data Type) 알고리즘을 적용하여 다수 사용자의 동시 수정 사항을 일관성 있게 병합.
- **F-5.4 실시간 주석 및 피드백**: 설계 컴포넌트 위에 포스트잇이나 펜 도구를 사용해 실시간 코멘트 및 주석 추가 지원.
- **F-5.5 협업 세션 관리**: 고유 룸 코드를 통한 팀 단위 작업 공간 할당 및 편집 권한 제어.

---

## 4. 비기능적 요구 사항 (Non-functional Requirements)

### 4.1 성능 (Performance)
- **NF-1.1 AI 응답 속도**: AI 평가 및 힌트 생성 시 5초 이내에 사용자에게 피드백 제공 (스트리밍 방식 권장).
- **NF-1.2 UI 반응성**: 드래그 앤 드롭 및 차트 렌더링 시 지연 없는 사용자 경험 제공.

### 4.2 보안 (Security)
- **NF-2.1 데이터 보호**: 사용자의 제출 코드 및 개인 정보를 암호화하여 저장.
- **NF-2.2 API 인증**: JWT 또는 Session 기반의 보안 인증 적용.

### 4.3 확장성 및 유지보수 (Scalability)
- **NF-3.1 모듈형 설계**: 새로운 연습 유닛(Unit)을 쉽게 추가할 수 있는 구조 유지.
- **NF-3.2 로그 기록**: 시스템 에러 및 사용자 활동 로그를 체계적으로 기록.

---

## 5. 데이터베이스 설계 요약

### 5.1 주요 테이블
- `gym_practice`: 연습 과정 마스터 (유닛 정보)
- `gym_practice_detail`: 상세 문제 및 설정 데이터 (JSON 형식 포함)
- `gym_user_activity`: 사용자별 총점, 랭킹, 현재 아바타 정보
- `gym_user_solved_problem`: 사용자의 문제 해결 이력 및 상세 제출 데이터
- `gym_user_avatar`: Nano Banana로 생성된 아바타 이미지 및 버전 정보

---

## 6. 향후 발전 방향
- Multi-cloud 지원 (AWS, Azure)
- 실시간 동료 협업 설계 모드 추가
- 모바일 앱 버전 출시
